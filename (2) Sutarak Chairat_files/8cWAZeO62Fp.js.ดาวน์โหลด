if (self.CavalryLogger) { CavalryLogger.start_js(["fiZob"]); }

__d("UFI2FlatThreadedRepliesListRenderer_config.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FlatThreadedRepliesListRenderer_config",type:"FlatThreadingFeedbackConfig",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"offset_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"curved_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"grouped_replies_indentation_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"should_check_reply_ordering",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"threaded_lines_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"max_depth",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2FlatThreadedReply.react",["cx","React","isCommentFresh","joinClasses","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;(h||(h=b("stylex"))).inject(".d2hqwtrz{padding-top:4px}",1);h.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");h.inject(".o9wcebwi{padding-bottom:4px}",1);h.inject(".fwlpnqze{padding-left:8px}",1,".fwlpnqze{padding-right:8px}");h.inject(".b8h03x74{border-bottom:2px solid var(--comment-background)}",.3);h.inject(".gg90643d{border-bottom-left-radius:10px}",1);h.inject(".i4db29yb{border-left:2px solid var(--comment-background)}",.3);h.inject(".jyn9vxbx{box-shadow:-2px 2px 0 var(--card-background)}",1,".jyn9vxbx{box-shadow:2px 2px 0 var(--card-background)}");h.inject(".dmdr2h6l{height:20px}",1);h.inject(".snvrc617{left:-17px}",1);h.inject(".s8sjc6am{position:absolute}",1);h.inject(".ekq1a7f9{top:0}",1);h.inject(".akh3l2rg{width:16px}",1);h.inject(".b0ur3jhr{z-index:1}",1);h.inject(".mhqhvzbk{left:-27px}",1);h.inject(".f1pz0i20{width:28px}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".cqf1kptm{flex-direction:column}",1);h.inject(".pytsy3co{height:100%}",1);h.inject(".gczexsa0{left:17px}",1);h.inject(".s8sjc6am{position:absolute}",1);h.inject(".ekq1a7f9{top:0}",1);h.inject(".j2ke9i7z{width:2px}",1);h.inject(".kgnml90y{background-color:var(--comment-background)}",1);h.inject(".cgu29s5g{flex-grow:1}",1);h.inject(".qr48hjqj{height:37px}",1);h.inject(".rvnfn9tb{background-color:var(--fds-highlight)}",1);h.inject(".pytsy3co{height:100%}",1);h.inject(".s8sjc6am{position:absolute}",1);h.inject(".i9c2ppys{top:px}",1);h.inject(".j2ke9i7z{width:2px}",1);h.inject(".m9xeb1gn{left:-54px}",1);h.inject(".rwj3msyd{left:-88px}",1);h.inject(".cg0l889k{left:-122px}",1);h.inject(".lofkq70t{margin-left:34px}",1);h.inject(".om3e55n1{position:relative}",1);h.inject(".kgnml90y{background-color:var(--comment-background)}",1);h.inject(".pytsy3co{height:100%}",1);h.inject(".ftlzw335{left:-2px}",1);h.inject(".s8sjc6am{position:absolute}",1);h.inject(".j2ke9i7z{width:2px}",1);h.inject(".kgnml90y{background-color:var(--comment-background)}",1);h.inject(".pytsy3co{height:100%}",1);h.inject(".snvrc617{left:-17px}",1);h.inject(".s8sjc6am{position:absolute}",1);h.inject(".ekq1a7f9{top:0}",1);h.inject(".j2ke9i7z{width:2px}",1);h.inject(".siwo0mpr{margin-bottom:-5px}",1);h.inject(".onux6t7x{padding-bottom:5px}",1);h.inject(".om3e55n1{position:relative}",1);h.inject(".gjezrb0y:last-child{margin-bottom:0}",4);h.inject(".qfrjpe4y:last-child{padding-bottom:0}",4);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,d=a.comment,e=a.commentComponent,f=a.commentComponentProps,g=a.depth,h=a.indentationEnabled,i=a.isReplyComposerVisible,j=a.lineStyle,k=a.nestedComments,l=a.replyComposerComponent,m=a.replyComposerComponentProps,n=a.replyComposerParent;a=g>1&&h;return b("React").jsxs("li",{className:b("joinClasses")("qfrjpe4y gjezrb0y om3e55n1 onux6t7x siwo0mpr"+(a?" lofkq70t":""),"_8m_t"),children:[this.renderFlatLine(),this.renderParentLine(),this.renderOffsetLine(),d&&b("React").jsxs("ul",{className:"om3e55n1",children:[this.renderFreshIndicator(),this.renderCurvedLine(),b("React").jsx(e,babelHelpers["extends"]({},babelHelpers["extends"]({},f,{className:b("joinClasses")(f.className,"fwlpnqze o9wcebwi aesu6q9g d2hqwtrz"),comment:d})))]}),b("React").jsxs("ul",{children:[k.sort(function(a,b){return((a=(a=a.comment)==null?void 0:a.created_time)!=null?a:0)-((b=(a=b.comment)==null?void 0:a.created_time)!=null?b:0)}).map(function(a,d){return b("React").createElement(c,babelHelpers["extends"]({},a,{commentComponent:e,commentComponentProps:f,indentationEnabled:h,isLast:d===k.length-1,isReplyComposerVisible:i,key:d,lineStyle:j,replyComposerComponent:l,replyComposerComponentProps:m,replyComposerParent:n}))}),this.renderReplyComposer()]})]})};d.renderReplyComposer=function(){var a=this.props,c=a.comment,d=a.isReplyComposerVisible,e=a.replyComposerComponent,f=a.replyComposerComponentProps;a=a.replyComposerParent;return d&&a!=null&&a===(c==null?void 0:c.id)?b("React").jsxs("div",{className:"lofkq70t om3e55n1",children:[this.renderOffsetLine(),b("React").jsx(e,babelHelpers["extends"]({},f))]}):null};d.renderFreshIndicator=function(){var a=this.props,c=a.comment;a=a.depth;return c==null||!b("isCommentFresh")(c)?null:b("React").jsx("div",{className:(h||(h=b("stylex"))).dedupe({"background-color-1":"rvnfn9tb","height-1":"pytsy3co","position-1":"s8sjc6am","top-1":"i9c2ppys","width-1":"j2ke9i7z"},a===1?{"left-1":"m9xeb1gn"}:null,a===2?{"left-1":"rwj3msyd"}:null,a>=3?{"left-1":"cg0l889k"}:null)})};d.renderOffsetLine=function(){var a=this.props.lineStyle;return a==="OFFSET"?b("React").jsx("div",{className:"j2ke9i7z s8sjc6am ftlzw335 pytsy3co kgnml90y"}):null};d.renderFlatLine=function(){var a=this.props,c=a.comment;a=a.lineStyle;return a!=="FLAT"?null:b("React").jsxs("div",{className:"j2ke9i7z ekq1a7f9 s8sjc6am gczexsa0 pytsy3co cqf1kptm alzwoclg",children:[b("React").jsx("div",{className:c?"qr48hjqj":""}),b("React").jsx("div",{className:"cgu29s5g kgnml90y"})]})};d.renderCurvedLine=function(){var a=this.props,c=a.depth,d=a.lineStyle;a=a.nestedComments;if(d!=="CURVED")return null;d=b("React").jsx("div",{className:(h||(h=b("stylex"))).dedupe({"border-bottom-0.3":"b8h03x74","border-bottom-left-radius-1":"gg90643d","border-left-0.3":"i4db29yb","box-shadow-1":"jyn9vxbx","height-1":"dmdr2h6l","left-1":"snvrc617","position-1":"s8sjc6am","top-1":"ekq1a7f9","width-1":"akh3l2rg","z-index-1":"b0ur3jhr"},c===1?{"left-1":"mhqhvzbk","width-1":"f1pz0i20"}:null)});c=a.length>0&&b("React").jsxs("div",{className:"j2ke9i7z ekq1a7f9 s8sjc6am gczexsa0 pytsy3co cqf1kptm alzwoclg",children:[b("React").jsx("div",{className:"qr48hjqj"}),b("React").jsx("div",{className:"cgu29s5g kgnml90y"})]});return b("React").jsxs(b("React").Fragment,{children:[c,d]})};d.renderParentLine=function(){var a=this.props,c=a.depth,d=a.isLast;a=a.lineStyle;return a!=="CURVED"||d||c===1?null:d?null:b("React").jsx("div",{className:"j2ke9i7z ekq1a7f9 s8sjc6am snvrc617 pytsy3co kgnml90y"})};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2FlatThreadedRepliesListRenderer.react",["invariant","React","RelayModern","UFI2CommentsPager.react","UFI2FlatThreadedReply.react","UFI2HiddenCommentsPlaceholder.react","UFI2RepliesCollapser.react","UFI2RepliesExpander.react","UFI2ScrollHoldingContainer.react","UFI2ViewOption","stylex","UFI2FlatThreadedRepliesListRenderer_config.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;(i||(i=b("stylex"))).inject(".pvreidsc{padding-top:10px}",1);i.inject(".oxkhqvkx{padding-right:0}",1,".oxkhqvkx{padding-left:0}");i.inject(".onux6t7x{padding-bottom:5px}",1);i.inject(".nch0832m{padding-left:0}",1,".nch0832m{padding-right:0}");i.inject(".d2hqwtrz{padding-top:4px}",1);i.inject(".aesu6q9g{padding-right:12px}",1,".aesu6q9g{padding-left:12px}");i.inject(".o9wcebwi{padding-bottom:4px}",1);i.inject(".e4ay1f3w{padding-left:12px}",1,".e4ay1f3w{padding-right:12px}");i.inject(".alzwoclg{display:flex}",1);i.inject(".cqf1kptm{flex-direction:column}",1);i.inject(".pytsy3co{height:100%}",1);i.inject(".tp77jey8{left:52px}",1);i.inject(".s8sjc6am{position:absolute}",1);i.inject(".j2ke9i7z{width:2px}",1);i.inject(".k250bvdn{height:12px}",1);i.inject(".kgnml90y{background-color:var(--comment-background)}",1);i.inject(".cgu29s5g{flex-grow:1}",1);i.inject(".mdj0cuyo{height:2px}",1);i.inject(".a75d2m4g{line-height:1.54}",1);i.inject(".m8h3af8h{margin-top:0}",1);i.inject(".t2cta8el{margin-right:9px}",1,".t2cta8el{margin-left:9px}");i.inject(".kjdc1dyq{margin-bottom:0}",1);i.inject(".ko8vvk6r{margin-left:9px}",1,".ko8vvk6r{margin-right:9px}");i.inject(".rt9i6ysf{padding-bottom:2px}",1);i.inject(".d2hqwtrz{padding-top:4px}",1);i.inject(".dw5lzgx0{margin-top:-10px}",1);i.inject(".q46jt4gp{padding-top:8px}",1);i.inject(".oxkhqvkx{padding-right:0}",1,".oxkhqvkx{padding-left:0}");i.inject(".rl78xhln{padding-bottom:0}",1);i.inject(".o6wbas62{padding-left:54px}",1,".o6wbas62{padding-right:54px}");i.inject(".om3e55n1{position:relative}",1);var j=3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={replyComposerParent:null},c.$1={},c.setReplyComposerParent=function(a){var b;if(!c.isReplyComposerNestingAllowed())return;var d=c.props.replyComposerComponentProps.componentRef;if(typeof d!=="function")return;a=a==null?null:c.$1[a.id];a=a!=null&&a.depth>=c.getMaxDepth()?(b=a.parent)==null?void 0:(b=b.comment)==null?void 0:b.id:a==null?void 0:(b=a.comment)==null?void 0:b.id;a!==c.state.replyComposerParent&&(d(null),c.setState({replyComposerParent:a}))},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.addReplyToCommentCallback(this.setReplyComposerParent),this.props.addReplyToReplyCallback(this.setReplyComposerParent)};d.componentWillUnmount=function(){this.props.clearReplyToCommentCallback(this.setReplyComposerParent),this.props.clearReplyToReplyCallback(this.setReplyComposerParent)};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.config,e=c.currentActorId,f=c.feedbackSource,h=c.repliesListRenderProps,i=c.replyComposerComponent,j=c.replyComposerComponentProps;h.depth===1||g(0,20089);c=h.Selectors;var k=h.depth,l=h.getHiddenCommentsPlaceholderProps,m=h.getPagerPropsForNewerComments,n=h.getPagerPropsForOlderComments,o=h.getRepliesCollapserProps,p=h.getRepliesExpanderProps,q=h.listState,r=h.onCommentsListMouseEnter,s=h.onCommentsListMouseLeave,t=h.viewOption;h=b("UFI2ViewOption").isChronologicalOrder(t);var u=e!=null&&c.isComposerVisible({depth:k,state:q});e=c.isListExpanded({depth:k,state:q});var v=c.isRepliesExpanderLoading({depth:k,state:q});k=c.getVisibleCommentsCount({depth:k,state:q});c=c.getVisibleCommentsWithHiddenCommentsCollapsed({depth:1,reverse:b("UFI2ViewOption").isChronologicalOrder(t),state:q});q=!e||v?b("React").jsx(b("UFI2RepliesExpander.react"),babelHelpers["extends"]({},p(),{className:"d2hqwtrz rt9i6ysf ko8vvk6r kjdc1dyq t2cta8el m8h3af8h a75d2m4g"})):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("UFI2RepliesCollapser.react"),babelHelpers["extends"]({},o(),{className:"nch0832m onux6t7x oxkhqvkx pvreidsc"})),b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},h?n():m(),{className:"d2hqwtrz rt9i6ysf ko8vvk6r kjdc1dyq t2cta8el m8h3af8h a75d2m4g"})),k>0?b("React").jsx("ul",{children:c.map(function(c,e){__p&&__p();if(c.state==="COLLAPSED"){var f;return b("React").jsx("li",{children:b("React").jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},l(),{className:"e4ay1f3w o9wcebwi aesu6q9g d2hqwtrz",commentIDs:c.comments.map(function(a){return a.id})}))},"hidden-"+((f=(f=c.comments[0])==null?void 0:f.id)!=null?f:e))}else if(c.state==="VISIBLE"){var g=a.getCommentsWithNesting(c.comments).sort(function(a,b){return((a=(a=a.comment)==null?void 0:a.created_time)!=null?a:0)-((b=(a=b.comment)==null?void 0:a.created_time)!=null?b:0)});return b("React").jsx(b("React").Fragment,{children:g.map(function(c,e){return b("React").createElement(b("UFI2FlatThreadedReply.react"),babelHelpers["extends"]({},c,{commentComponent:a.props.commentComponent,commentComponentProps:a.props.commentComponentProps,indentationEnabled:d.grouped_replies_indentation_enabled===!0&&t==="RANKED_SUB_REPLIES",isLast:e===g.length-1,isReplyComposerVisible:u&&a.isReplyComposerNestingAllowed(),key:e,lineStyle:a.getLineStyle(),replyComposerComponent:i,replyComposerComponentProps:j,replyComposerParent:a.state.replyComposerParent}))})},e)}return null})}):null,b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},h?m():n(),{className:"d2hqwtrz rt9i6ysf ko8vvk6r kjdc1dyq t2cta8el m8h3af8h a75d2m4g"})),(this.state.replyComposerParent==null||!this.isReplyComposerNestingAllowed())&&(u||k===0||c.length===0)&&b("React").jsx(i,babelHelpers["extends"]({},j))]});q=b("React").jsxs("div",{className:"om3e55n1 o6wbas62 rl78xhln oxkhqvkx q46jt4gp dw5lzgx0","data-testid":"UFI2CommentsList/root_depth_1",onMouseEnter:r,onMouseLeave:s,children:[d.offset_lines_enabled===!0&&b("React").jsxs("div",{className:"j2ke9i7z s8sjc6am tp77jey8 pytsy3co cqf1kptm alzwoclg",children:[b("React").jsx("div",{className:"mdj0cuyo"}),b("React").jsx("div",{className:"cgu29s5g kgnml90y"}),b("React").jsx("div",{className:"k250bvdn"})]}),q]});f===1&&(q=b("React").jsx(b("UFI2ScrollHoldingContainer.react"),{children:q}));return q};d.isReplyComposerNestingAllowed=function(){var a=this.props,b=a.config;a=a.repliesListRenderProps;return a.viewOption==="RANKED_SUB_REPLIES"&&b.grouped_replies_indentation_enabled===!0};d.getLineStyle=function(){__p&&__p();var a=this.props,b=a.config;a=a.repliesListRenderProps;a=a.viewOption;if(b.threaded_lines_enabled===!0&&(b.should_check_reply_ordering===!1||a==="RANKED_SUB_REPLIES")){if(b.curved_lines_enabled===!0)return"CURVED";else if(b.offset_lines_enabled===!0)return"OFFSET";return"FLAT"}return"NONE"};d.getCommentsWithNesting=function(a){var b=this,c=this.props.repliesListRenderProps;c=c.viewOption;this.$1={};return c==="RANKED_SUB_REPLIES"?this.getCommentsWithNestingRecursive(a,0,1).list:a.map(function(a){b.$1[a.id]={comment:a,depth:1,nestedComments:[],parent:null};return b.$1[a.id]})};d.getCommentsWithNestingRecursive=function(a,b,c,d){__p&&__p();var e=[],f=b;while(f<a.length){var g,h=a[f];g=(g=h.flat_threading_depth)!=null?g:1;if(g>c&&c<this.getMaxDepth()){e.length===0&&e.push({comment:null,depth:c,nestedComments:[],parent:null});var i=e[e.length-1],j=this.getCommentsWithNestingRecursive(a,f,c+1,i),k=j.list;j=j.consumed;i.nestedComments=k;f+=j;continue}else if(g<c)break;this.$1[h.id]={comment:h,depth:c,nestedComments:[],parent:d};e.push(this.$1[h.id]);f++}return{consumed:f-b,list:e}};d.getMaxDepth=function(){var a;return(a=this.props.config.max_depth)!=null?a:j};return c}(b("React").Component);e.exports=a(c,{config:h!==void 0?h:h=b("UFI2FlatThreadedRepliesListRenderer_config.graphql")})}),null);
if (self.CavalryLogger) { CavalryLogger.start_js(["lMUj4"]); }

__d("OnLiveRHCItemClick",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){a=b("CurrentUser").getID();new(b("WebFunnelLogger"))("LiveBroadcastRHCFunnelDefinition").setAction("live_video_carousel_thumbnail_clicked").setSessionKey(a).log()}}),null);
__d("LiveRHCUtils",[],(function(a,b,c,d,e,f){"use strict";a="live_rhc_collapse";e.exports=a}),null);
__d("LiveRHCAutoplayController",["Arbiter","LiveRHCUtils","Run","SubscriptionsHandler","VideoAutoplayControllerX","VideoAutoplayPlayerBase","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=42,h=.5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d,e,f){__p&&__p();var g;g=a.call(this)||this;g.$LiveRHCAutoplayController1=new Set();g.$LiveRHCAutoplayController3=d;g.$LiveRHCAutoplayController10=e;g.$LiveRHCAutoplayController8=f;g.$LiveRHCAutoplayController8||g.$LiveRHCAutoplayController1.add("server_blocked");g.$LiveRHCAutoplayController7=new(b("SubscriptionsHandler"))();g.$LiveRHCAutoplayController2=g.isAutoplayable();g.$LiveRHCAutoplayController10.registerOption("LivePlayer","isAutoplaying",function(){return g.$LiveRHCAutoplayController2},function(a){g.$LiveRHCAutoplayController2=a});g.$LiveRHCAutoplayController10.registerOption("LivePlayer","isVisibleForAutoplay",function(){return g.isVisible()});g.$LiveRHCAutoplayController11();b("Run").onLeave(function(){g.$LiveRHCAutoplayController7.release(),g.$LiveRHCAutoplayController4.unsubscribe(),g.$LiveRHCAutoplayController5.unsubscribe(),g.$LiveRHCAutoplayController6.unsubscribe()});g.$LiveRHCAutoplayController10.setLogEntryPropertyGetters({autoplay_eligible:function(){return g.isAutoplayable()},autoplay_failure_reasons:function(){return JSON.stringify(Array.from(g.$LiveRHCAutoplayController1))}});window.addEventListener("blur",function(){g.$LiveRHCAutoplayController12("lost_focus")});window.addEventListener("focus",function(){g.$LiveRHCAutoplayController13("lost_focus")});g.$LiveRHCAutoplayController9=b("VideoAutoplayControllerX").registerVideoUnit(babelHelpers.assertThisInitialized(g));g.$LiveRHCAutoplayController4=b("Arbiter").subscribe(c.ARBITER_COLLAPSED_EVENT_NAME,function(a,b){b.collapsed?(g.$LiveRHCAutoplayController12("collapsed"),g.pause("video_visibility_initiated")):(g.$LiveRHCAutoplayController13("collapsed"),g.isAutoplayable()&&g.playWithoutUnmute("video_visibility_initiated"))});g.$LiveRHCAutoplayController5=b("Arbiter").subscribe(b("LiveRHCUtils"),function(){g.$LiveRHCAutoplayController12("collapsed"),g.pause("video_visibility_initiated")});g.$LiveRHCAutoplayController6=b("Arbiter").subscribe("TahoeController/exitTahoe",function(){g.$LiveRHCAutoplayController13("manually_paused")});return g}var d=c.prototype;d.$LiveRHCAutoplayController14=function(){return this.$LiveRHCAutoplayController10.isState("destroyed")};d.getDistanceToViewport=function(){if(this.$LiveRHCAutoplayController14())return-Infinity;if(this.$LiveRHCAutoplayController10.isFullscreen())return 0;var a=b("getViewportDimensions")().height,c=this.getDOMPosition();if(c.height===0)return-Infinity;c=c.y+(1-h)*c.height;return c-a/2};d.isVisible=function(){if(this.$LiveRHCAutoplayController14())return!1;var a=b("getViewportDimensions")().height,c=b("getViewportDimensions")().width,d=this.getDOMPosition();if(d.height===0)return!1;var e=d.y-g+(1-h)*d.height,f=d.y+h*d.height,i=d.x+(1-h)*d.width;d=d.x+h*d.width;return e<0||f>=a||i<0||d>=c?!1:!0};d.getDOMPosition=function(){return this.$LiveRHCAutoplayController10.getDOMPosition()};d.getVideoPlayerController=function(){return this.$LiveRHCAutoplayController10};d.logDisplayed=function(){this.$LiveRHCAutoplayController10.logEvent("displayed")};d.playWithoutUnmute=function(a){this.$LiveRHCAutoplayController10.play(a)};d.pause=function(a){this.$LiveRHCAutoplayController10.pause(a)};d.preload=function(){this.$LiveRHCAutoplayController10.preload&&this.$LiveRHCAutoplayController10.preload()};d.isLooping=function(){return!1};d.isState=function(a){return this.$LiveRHCAutoplayController10.isState(a)};d.pauseIfInvisible=function(){this.isVisible()||this.pause("video_visibility_initiated")};d.isAutoplayable=function(){return this.$LiveRHCAutoplayController8&&!this.$LiveRHCAutoplayController1.size&&this.isVisible()};d.unregister=function(){this.$LiveRHCAutoplayController9&&this.$LiveRHCAutoplayController9()};d.isMuted=function(){return this.$LiveRHCAutoplayController10.isMuted()};d.isPlaying=function(){return this.$LiveRHCAutoplayController10.isState("playing")};d.shouldPauseWhenScrolledOffscreen=function(){return!0};d.setDimensions=function(a,b){this.$LiveRHCAutoplayController10.setDimensions(a,b)};d.$LiveRHCAutoplayController11=function(){__p&&__p();var a=this,b=[["beginPlayback",function(){return a.$LiveRHCAutoplayController15()}],["TahoeController/exitTahoe",function(){return a.$LiveRHCAutoplayController15()}],["finishPlayback",function(){return a.$LiveRHCAutoplayController16()}],["turnOffAutoplay",function(b){var c=null;b&&(c=b.reason);a.$LiveRHCAutoplayController17(c)}],["resumeAutoplay",function(b){var c=null;b&&(c=b.reason);a.$LiveRHCAutoplayController15(c)}]];this.$LiveRHCAutoplayController7.addSubscriptions.apply(this.$LiveRHCAutoplayController7,b.map(function(b){var c=b[0];b=b[1];return a.$LiveRHCAutoplayController10.addListener(c,b)}))};d.$LiveRHCAutoplayController13=function(a){this.$LiveRHCAutoplayController1["delete"](a),this.$LiveRHCAutoplayController2=this.isAutoplayable()};d.$LiveRHCAutoplayController12=function(a){this.$LiveRHCAutoplayController1.add(a),this.$LiveRHCAutoplayController2=!1};d.$LiveRHCAutoplayController16=function(){this.$LiveRHCAutoplayController12("has_seen_finished")};d.$LiveRHCAutoplayController17=function(a){if(a==="unmuted")return;this.$LiveRHCAutoplayController12((a=a)!=null?a:"manually_paused")};d.$LiveRHCAutoplayController15=function(a){this.$LiveRHCAutoplayController13((a=a)!=null?a:"manually_paused")};d.isRegistered=function(){return this.$LiveRHCAutoplayController9==null};return c}(b("VideoAutoplayPlayerBase"));a.ARBITER_COLLAPSED_EVENT_NAME="LiveRHC/collapsed";e.exports=a}),null);
__d("LiveRHCContent",["Arbiter","LiveRHCAutoplayController"],(function(a,b,c,d,e,f){"use strict";a=function(a){this.$1=b("Arbiter").subscribe(b("LiveRHCAutoplayController").ARBITER_COLLAPSED_EVENT_NAME,function(b,c){a.carousel.forceLayoutUpdate()})};e.exports=a}),null);
__d("XLiveVideoRHCUpdatePreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/rhc/update_preferences/",{collapsed:{type:"Bool",defaultValue:!1}})}),null);
if (self.CavalryLogger) { CavalryLogger.start_js(["5b2dr"]); }

__d("VideoChannelCallerToPlayerOriginMap",[],(function(a,b,c,d,e,f){e.exports={internal:"unknown",www_feed_pivots:"newsfeed",www_feed_snowlift:"unknown",misc_photo_set:"unknown",mobile:"unknown",search:"search",www_feed_rhc:"newsfeed",www_notification:"notifications",www_permalink:"permalink",www_permalink_rhc:"permalink",www_permalink_rhc_from_notification:"notifications",my_video_channels_ent_query:"unknown",top_followed_video_channels_ent_query:"unknown",badge:"unknown",pagination:"unknown",subtitle:"unknown",channel_view_from_unknown:"unknown",channel_view_from_newsfeed:"newsfeed",channel_view_from_explorefeed:"unknown",live_indexer_from_explorefeed:"unknown",live_indexer_from_newsfeed:"unknown",nn_indexer_from_newsfeed:"unknown",channel_view_from_search:"unknown",channel_view_from_newsfeed_pivot:"unknown",newsfeed_pivot_inline:"unknown",mobile_newsfeed_pivot_inline:"unknown",channel_view_from_page_call_to_action:"unknown",channel_view_from_page_timeline:"page_timeline",channel_view_from_page_timeline_featured:"unknown",channel_view_from_page_video_tab:"page_timeline",channel_view_from_page_home_hero:"unknown",channel_view_from_user_timeline:"user_timeline",channel_view_from_user_video_tab:"unknown",channel_view_from_group_timeline:"group",channel_view_from_group_video_tab:"unknown",channel_view_from_video_page_spotlight:"unknown",channel_view_from_video_page_video_list:"unknown",channel_view_from_video_page_video_tab:"unknown",channel_view_from_channel_tab:"unknown",channel_view_from_saved_story:"unknown",saved_story_inline:"unknown",channel_view_from_shared_with_you_story:"unknown",shared_with_you_story_inline:"unknown",channel_view_from_latest_from_your_channels_story:"unknown",latest_from_your_channels_story_inline:"unknown",channel_view_from_channel_pivot:"unknown",channel_pivot_inine:"unknown",channel_view_from_recommended_channel_story:"unknown",recommended_channel_story_inline:"unknown",channel_view_from_video_home:"video_home",video_home_inline:"unknown",video_home_channel_see_all:"unknown",social_player_up_next:"unknown",channel_view_from_casting:"unknown",connected_tv:"unknown",connected_tv_discovery:"unknown",connected_tv_player:"unknown",connected_tv_profile:"unknown",video_home_feed:"unknown",video_home_hero:"unknown",feed_survey_swipe:"unknown",feed_pivots_inline:"newsfeed",channel_view_from_feed_pivots:"newsfeed",video_sets_cache_refresh:"unknown",video_sets_cache_check:"unknown",dummy_story_recommended_videos:"unknown",dummy_story_friends_enjoying:"unknown",live_event_video_set:"unknown",live_videos_set:"unknown",single_creator_video_set:"unknown",frt_tool:"unknown",dummy_story_friends_enjoying_now:"unknown",dummy_story_dummy_action:"unknown",oculus_video:"unknown",trending_demographics_live:"unknown",live_map:"live_map",unconnected_live_video:"unknown",profile_video_gallery:"unknown",channel_view_from_playlist:"unknown",oculus_social_hub:"unknown",akira:"unknown",is_live_video_chaining:"unknown",is_live_video_chaining_others:"unknown",video_creator_chaining:"unknown",tahoe:"unknown",living_room:"unknown",shows_cover_trailer:"page_timeline",shows_episodes_tab:"page_timeline",shows_playlists_tab:"page_timeline",shows_home_tab:"page_timeline",shows_more_videos_tab:"page_timeline",show_episode_feed_recommendations:"unknown",parent_page_timeline:"page_timeline",watch_watchlist_tab:"unknown",watch_feed_tab:"unknown",watch_injection:"unknown",watch_topic_feed:"unknown",watch_topic_channel_feed:"unknown",watch_subtopic_channel_feed:"unknown",watch_section_see_all:"unknown",social_player_from_video_home:"unknown",watch_custom_ads:"unknown",watch_embedded_endscreen:"unknown",wns:"unknown",explore_feed_deep_dive:"unknown",voyager:"unknown",games_video_channel:"games_video_channel",lol_video_feed:"unknown",avd:"unknown",live_chaining:"unknown",living_room_chaining:"unknown",fblite_trending_video:"unknown",portal:"unknown",lasso:"unknown",watch_social:"unknown",messenger:"unknown",premium_music_video:"unknown",channel_view_from_newsfeed_related:"newsfeed",channel_view_from_video_home_related:"video_home",feed_short_video:"unknown",photo_chaining:"unknown",youtube_share:"unknown",test:"unknown",unknown:"unknown"}}),null);
__d("TahoeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setChainDepth=function(a){this.$1.chain_depth=a;return this};c.setChainingContextIdentifier=function(a){this.$1.chaining_context_identifier=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsAutoplaying=function(a){this.$1.is_autoplaying=a;return this};c.setMediaID=function(a){this.$1.media_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUpNextMediaID=function(a){this.$1.up_next_media_id=a;return this};c.setUpNextPosition=function(a){this.$1.up_next_position=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={chain_depth:!0,chaining_context_identifier:!0,event:!0,is_autoplaying:!0,media_id:!0,time:!0,up_next_media_id:!0,up_next_position:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("prevNextControlActionTypes",[],(function(a,b,c,d,e,f){"use strict";a={ADD_ID:"ADD_ID",POP_ID:"POP_ID"};e.exports=a}),null);
__d("prevNextControlActions",["prevNextControlActionTypes"],(function(a,b,c,d,e,f){"use strict";a={addID:function(a){return{type:b("prevNextControlActionTypes").ADD_ID,payload:a}},popID:function(){return{type:b("prevNextControlActionTypes").POP_ID}}};e.exports=a}),null);
__d("prevNextControlReducer",["prevNextControlActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={videoIdQueue:[]};a=function(a,c){a===void 0&&(a=g);switch(c.type){case b("prevNextControlActionTypes").ADD_ID:if(c.payload!==void 0)return{videoIdQueue:a.videoIdQueue.concat(c.payload)};else return a;case b("prevNextControlActionTypes").POP_ID:return{videoIdQueue:a.videoIdQueue.slice(0,a.videoIdQueue.length-1)};default:return a}};e.exports=a}),null);
__d("prevNextControlStore",["prevNextControlReducer","redux"],(function(a,b,c,d,e,f){"use strict";a=b("redux").createStore(b("prevNextControlReducer"));e.exports=a}),null);
__d("TahoeActions",["TahoeActionTypes","TahoeDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setMediaController:function(a){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").SET_MC,mediaController:a})},setUFIInstanceID:function(a){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").SET_UFI_INSTANCE_ID,ufiInstanceID:a})},exit:function(){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").EXIT})}};e.exports=a}),null);
__d("TahoeDOM",["csx","cx","BlueBar","BootloadedComponent.react","CSS","DialogX","DOM","DOMQuery","JSResource","React","ReactDOM","Style","XUISpinner.react","ge","getElementPosition","getVendorPrefixedName"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=876;a=function(){__p&&__p();function a(a){this.$6=a}var c=a.prototype;c.createDialog=function(){__p&&__p();var a={width:i},c=this.$6.getFeedLocation();this.$1=b("CSS").setClass(b("DOM").create("div"),"_5-g-");var d=b("ge")("bizBlackBar");b("CSS").conditionClass(this.$1,"_699q",!b("BlueBar").hasFixedBlueBar()&&!d);d=b("ge")("mediaManagerGlobalChromeBar");b("CSS").conditionClass(this.$1,"_1dm_",c===164||d);this.$4=b("CSS").setClass(b("DOM").create("div"),"_6444");b("DOM").appendContent(this.$1,this.$4);this.$8=b("CSS").setClass(b("DOM").create("div"),"_6445 _6j32");b("DOM").appendContent(this.$1,this.$8);c=new(b("DialogX"))(a,this.$1);b("CSS").setClass(c.getRoot(),"_5-g_");document.body&&b("CSS").addClass(document.body,"_1_-b");c.show();this.$9(c);return c};c.$9=function(a){var c=b("DOMQuery").find(document.body,"._li");b("DOM").appendContent(c,a.getRoot())};c.placeBackAffordance=function(a,c,d,e){b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("TahoeBackAffordanceContainer.react").__setRef("TahoeDOM"),bootloadPlaceholder:b("React").jsx("div",{className:"_4ua2"}),entryURI:a,isPermalink:c,landingPageType:e,mediaController:d}),this.$4)};c.insertPlaceholderMedia=function(){var a,c=b("CSS").setClass((a=b("DOM")).create("div"),"_1c_u");b("ReactDOM").render(b("React").jsx(b("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),c);this.$5=c;c=b("CSS").setClass(a.create("div"),"_5-yb _5_63");a.setContent(c,this.$5);a.prependContent(this.$4,c)};c.insertMedia=function(a){var c=b("getElementPosition")(a);this.$5=a;this.$2=(a=b("DOM")).create("div");a.insertAfter(this.$5,this.$2);this.$7=!0;var d=b("CSS").setClass(a.create("div"),"_5-yb _5_63");a.setContent(d,this.$5);a.prependContent(this.getContent(),d);this.$10(d,c)};c.$10=function(a,c){var d;this.$6.setMediaState();var e=(d=b("Style")).getFloat(this.$5,"width"),f=d.getFloat(this.$5,"height"),g="translate("+c.x+"px,"+c.y+"px)";e="scale("+c.width/e+", "+c.height/f+")";d.set(a,b("getVendorPrefixedName")("transform"),g+" "+e);a.offsetWidth;d.set(a,"transition","all .4s cubic-bezier(.12,.8,.32,1)");d.set(a,b("getVendorPrefixedName")("transform"),"none")};c.returnFeedElement=function(){var a=this.$5.clientHeight,c=b("CSS").setClass(b("DOM").create("div"),"_1c_u _61-j");b("ReactDOM").render(b("React").jsx(b("XUISpinner.react"),{size:"large",background:"dark"}),c);b("Style").set(c,"height",a+"px");b("DOM").prependContent(this.getContent(),c);this.$7?(b("DOM").insertAfter(this.$2,this.$3),b("DOM").remove(this.$2),b("Style").set(this.$3,"width",""),b("Style").set(this.$3,"height","")):b("DOM").remove(this.getContent().children[1]);this.$7=!1};c.cleanup=function(){var a=document.body;a&&(b("CSS").removeClass(a,"_1_-b"),b("CSS").removeClass(a,"_3yn5"));b("ReactDOM").unmountComponentAtNode(this.$4)};c.getDialogContent=function(){return this.$1};c.getContent=function(){return this.$4};c.getMediaContent=function(){return this.$5};c.setMediaContent=function(a){this.$5=a};c.setMediaContentSize=function(a,c){b("Style").set(this.$5,"width",a),b("Style").set(this.$5,"height",c)};c.setMediaSizeForTahoeV2=function(a,c){b("Style").set(this.$5,"width",a+"px"),b("Style").set(this.$5,"height",c+"px"),b("Style").set(this.$4,"width",a+"px")};c.setInitialMediaContent=function(a){this.$3=a};c.getSideContent=function(){return this.$8};return a}();e.exports=a}),null);
__d("TahoeVideoResizingController",["TahoeConstants"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("TahoeConstants")).MIN_BOTTOM_PANE_HEIGHT,h=a.MIN_PLAYER_WIDTH,i=a.MIN_PLAYER_HEIGHT,j=a.BLUE_BAR_HEIGHT,k=a.SIDE_PANE_WIDTH;c={getPlayerSize:function(a,b){a=a-k;b=b-g-j;a=Math.max(a,h);b=Math.max(b,i);return{width:a,height:b}}};e.exports=c}),null);
__d("XTahoeReactionsTrayAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/reactions/",{video_id:{type:"FBID",required:!0}})}),null);
__d("TahoeController",["cx","Arbiter","AsyncRequest","BlueBar","Bootloader","CSS","DialogX","Env","EventEmitter","EventProfiler","FantaTabActions","LiveVideoStreamingReactionEligibleLocations","PageTransitions","ResizeListener","ScriptPath","Tahoe","TahoeActions","TahoeConstants","TahoeDispatcher","TahoeDOM","TahoeTypedLogger","TahoeV2Config","TahoeVideoResizingController","TahoeVideoView","TimeSlice","URI","VideoAutoplayControllerX","VideoChannelCallerToPlayerOriginMap","VideoPermalinkURI","XTahoeReactionsTrayAsyncController","collectDataAttributes","ge","gkx","prevNextControlActions","prevNextControlStore","requireWeak","shouldWNSRenderToRHC","TahoeVideoStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j;b("requireWeak")("VideoProgressPreviewBar.react",function(a){j=a});var k;b("requireWeak")("VideoWatchAndScrollController",function(a){k=a});var l=48,m=0;a=876;var n=a-b("TahoeConstants").SIDE_PANE_WIDTH,o=4,p=560,q=350;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$TahoeController1=!1;d.$TahoeController3=!0;d.$TahoeController21=!1;d.$TahoeController22=!1;d.$TahoeController26="user_initiated";d.$TahoeController32=null;d.$TahoeController38=!1;d.$TahoeController40=0;d.$TahoeController53=function(){d.$TahoeController51()};b("TahoeDispatcher").explicitlyRegisterStores([b("TahoeVideoStore")]);b("EventProfiler").tagCurrentActiveInteractionsAs("Tahoe");d.$TahoeController13=[];d.$TahoeController21=c.isPermalink;d.$TahoeController24=0;d.$TahoeController37=c.storyIdentifier;d.$TahoeController41=p-b("TahoeConstants").BLUE_BAR_HEIGHT-d.$TahoeController44();d.$TahoeController32=c.userID;d.$TahoeController34=c.origin;d.$TahoeController35=c.suborigin;d.$TahoeController5=c.channelID;d.$TahoeController33=c.videoListID;d.$TahoeController4=c.caller;d.$TahoeController27=c.reactionVideoChannelType;d.$TahoeController28=c.reactionVideoChannelSubtype;d.$TahoeController31=c.upstreamPlayerSource;d.$TahoeController29=c.searchKeywordsForVideoChaining;d.$TahoeController12=c.externalLogID;d.$TahoeController42=c.feedLocation;d.$TahoeController43=!0;d.$TahoeController11=(h||(h=b("URI"))).getNextURI();d.$TahoeController25=d.$TahoeController45.bind(babelHelpers.assertThisInitialized(d));c.landingPage&&(d.$TahoeController39=new(h||(h=b("URI")))(c.landingPage));c.landingPageType&&(d.$TahoeController40=c.landingPageType);d.$TahoeController10=c.entryDocumentTitle;b("PageTransitions").registerHandler(d.$TahoeController25,o);!(i||(i=b("Env"))).isCQuick&&c.uri!==window.location&&b("PageTransitions").go(c.uri);d.$TahoeController9=new(b("TahoeDOM"))(babelHelpers.assertThisInitialized(d));d.$TahoeController8=d.$TahoeController9.createDialog();if(c.mediaController)d.$TahoeController46(c.mediaController.video),d.$TahoeController15=d.$TahoeController23.getMediaID(),d.$TahoeController47(),d.$TahoeController9.setInitialMediaContent(d.getMediaContent());else{d.$TahoeController48();var e=b("VideoPermalinkURI").parse(c.uri);d.$TahoeController15=e.video_id}b("FantaTabActions").minimizeAllTabs();b("Arbiter").inform("chat/option-changed",{name:"hide_buddylist",value:!0});d.$TahoeController14=c.feedTracking;d.$TahoeController36=b("TahoeVideoView").loadView(babelHelpers.assertThisInitialized(d),d.$TahoeController34,d.$TahoeController35,{commentID:c.uri.getQueryData().comment_id,replyCommentID:c.uri.getQueryData().reply_comment_id});return d}var d=c.prototype;d.go=function(a){b("PageTransitions").go(a)};d.onExit=function(a){this.$TahoeController1?this.$TahoeController49():a=="wns"?(this.logEvent("exit_with_wns_control"),b("PageTransitions").go(this.$TahoeController11)):b("PageTransitions").go(this.$TahoeController11);a=this.$TahoeController23;if(a.isVideo()){var c=a.getMediaID();b("Bootloader").loadModules(["CreateLivingRoomActionLinkStore","LivingRoomCreationSource"],function(a,b){a.activateLivingRoomCTAForVideo(c,b.FEED_CTA_ON_VIDEO_PRESS)},"TahoeController")}};d.getVideoPlayerOrigin=function(){return this.$TahoeController34};d.getReactionVideoChannelType=function(){return this.$TahoeController27};d.getReactionVideoChannelSubtype=function(){return this.$TahoeController28};d.getUpstreamPlayerSource=function(){return this.$TahoeController31};d.getSearchKeywordsForVideoChaining=function(){return this.$TahoeController29};d.getFeedTracking=function(){return this.$TahoeController14};d.getStoryIdentifier=function(){return this.$TahoeController37};d.getNumCopyrightMatchedVideosPlayedConsecutively=function(){return this.$TahoeController24};d.$TahoeController50=function(){var a=this.$TahoeController39?this.$TahoeController39:this.$TahoeController11;this.$TahoeController9.placeBackAffordance(a,this.$TahoeController21,this.$TahoeController23,this.$TahoeController40)};d.$TahoeController46=function(a){b("TahoeActions").setMediaController(a);this.$TahoeController23=a;a=a;a=a.isBroadcast();a&&document.body&&b("CSS").addClass(document.body,"_3yn5")};d.$TahoeController48=function(){this.$TahoeController50(),this.$TahoeController9.insertPlaceholderMedia(),this.$TahoeController51()};d.$TahoeController47=function(){this.$TahoeController50();var a=this.$TahoeController23,b=a.getRootNode();this.$TahoeController16=this.$TahoeController23;a=a.getSource();this.$TahoeController18=a?a:"inline";b&&(this.$TahoeController19=b.clientWidth);b&&(this.$TahoeController17=b.clientHeight);this.$TahoeController30=!0;b&&this.$TahoeController9.insertMedia(b)};d.setMediaState=function(){__p&&__p();this.$TahoeController2=parseFloat(this.getMediaContent().getAttribute("data-original-aspect-ratio"));this.$TahoeController52();var a=this.$TahoeController23;a.updateSource("tahoe");b("VideoAutoplayControllerX").setShouldAutoplay(!1);this.$TahoeController20||a.unmute();this.$TahoeController7!=null&&a.setVolume(this.$TahoeController7);(this.$TahoeController3||this.$TahoeController26==="user_initiated")&&(a.play(this.$TahoeController26),this.$TahoeController20&&a.mute());this.setNumCopyrightMatchedVideosPlayedConsecutively();this.$TahoeController23.emit("TahoeController/enterTahoe");this.$TahoeController23.getRootNode().focus();j&&j.destroyComponentIfAvailable(this.$TahoeController23);this.$TahoeController51();this.$TahoeController13.push(b("ResizeListener").add(this.$TahoeController53))};d.setPlayReason=function(a){this.$TahoeController26=a};d.addEvent=function(a){this.$TahoeController13.push(a)};d.getMediaController=function(){return this.$TahoeController23};d.setNumCopyrightMatchedVideosPlayedConsecutively=function(){this.$TahoeController3&&this.$TahoeController26!=="user_initiated"&&this.$TahoeController36&&this.$TahoeController36.getCurrentVideoHasCopyrightMusicMatch()?this.$TahoeController24++:this.$TahoeController24=0};d.setFullWidth=function(a){this.$TahoeController38=a,this.$TahoeController51()};d.resizeMedia=function(){this.$TahoeController51()};d.$TahoeController52=function(){__p&&__p();var a=this.$TahoeController16;if(!a)return;a=b("LiveVideoStreamingReactionEligibleLocations").locations.includes(a.getSource());if(a)return;var c=b("ge")("fbVideoStreamingReactionsTray");if(!c)return;var d=this.$TahoeController23;a=b("XTahoeReactionsTrayAsyncController").getURIBuilder().setFBID("video_id",d.getVideoID());var e=function(a){var e=a.payload;if(!e)return;b("Bootloader").loadModules(["StreamingReactionsTray"],function(a){new a(c,d,"tahoe",e.feedbackID,e.broadcastID,e.profilePicUri,e.actorProfilePics,!0,!0,!0)},"TahoeController")};new(b("AsyncRequest"))().setURI(a.getURI()).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setHandler(e).send()};d.$TahoeController51=function(){__p&&__p();if(this.$TahoeController22)return;var a=this.$TahoeController36;if(b("TahoeV2Config").showTahoe2UI&&!(a instanceof b("TahoeVideoView")&&!a.isRenderingBottomInfoPane())){a=b("TahoeVideoResizingController").getPlayerSize(window.innerWidth,window.innerHeight);var c=a.width;a=a.height;this.$TahoeController9.setMediaSizeForTahoeV2(c,a);this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}else{c=this.$TahoeController38?window.innerWidth:window.innerWidth-b("TahoeConstants").SIDE_PANE_WIDTH;c=Math.max(c,n);a=window.innerHeight-this.$TahoeController44();b("BlueBar").hasFixedBlueBar()&&(a-=b("TahoeConstants").BLUE_BAR_HEIGHT);a=Math.max(a,this.$TahoeController41);this.$TahoeController9.setMediaContentSize(c+"px",a+"px");var d=this.$TahoeController23;d&&d.removeOffsetStylings();this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}};d.$TahoeController45=function(a){__p&&__p();var c;this.$TahoeController43?(c=this.$TahoeController11,this.$TahoeController43=!1):c=(h||(h=b("URI"))).getRequestURI();if(a.getPath()===this.$TahoeController11.getPath()&&a.getQueryData().ref!=="tahoe"&&!this.getIsPermalink())this.$TahoeController18==="watch_scroll"?(this.$TahoeController1=!0,b("shouldWNSRenderToRHC")()?this.$TahoeController23.emit("crossfadeWatchAndScroll"):this.$TahoeController23.emit("enterWatchAndScroll")):this.$TahoeController49();else if(!this.$TahoeController54(a)){this.$TahoeController49();return!1}else if((this.$TahoeController11.getPath()!=c.getPath()||c.getQueryData().ref==="tahoe")&&c.getPath()!=a.getPath())this.$TahoeController55(a);else if(c.getPath()===a.getPath()){c=this.$TahoeController23;c&&c.isState("fallback")&&this.$TahoeController55(a)}else this.getIsPermalink()&&this.$TahoeController55(a);b("PageTransitions").transitionComplete();return!0};d.$TahoeController54=function(a){return b("VideoPermalinkURI").isValid(a)};d.$TahoeController55=function(a){__p&&__p();this.$TahoeController22=!0;var c=this.$TahoeController23;c.pause();this.$TahoeController9.returnFeedElement();var d=b("VideoPermalinkURI").parse(a),e=d.video_id;this.$TahoeController37=d.story_id;d=b("prevNextControlStore").getState().videoIdQueue;d.length!==0&&d[d.length-1]===e?b("prevNextControlStore").dispatch(b("prevNextControlActions").popID()):b("prevNextControlStore").dispatch(b("prevNextControlActions").addID(this.$TahoeController15));d=a.getQueryData().sp;c.emit("tahoeController/displayNewMedia");this.$TahoeController36.updateView(e,this.$TahoeController5,this.$TahoeController4,d)};d.resetChannelData=function(){this.$TahoeController5=null,this.$TahoeController4=null};d.$TahoeController44=function(){if(b("TahoeV2Config").showTahoe2UI)return l;var a=null,c=this.$TahoeController36;c instanceof b("TahoeVideoView")&&(a=c.getBottomTrayHeight());return Math.min(a||m,q)};d.$TahoeController49=function(){__p&&__p();this.$TahoeController36&&this.$TahoeController36.onExit();b("PageTransitions").removeHandler(this.$TahoeController25,o);this.$TahoeController13.forEach(function(a){return a.remove()});this.$TahoeController13=[];this.$TahoeController9.setMediaContentSize("","");this.$TahoeController9.returnFeedElement();var a=this.$TahoeController16;b("VideoAutoplayControllerX").setShouldAutoplay(!0);this.$TahoeController16&&(this.$TahoeController18==="watch_scroll"&&this.$TahoeController16!==this.$TahoeController23||(a.addOffsetStylings(),a.setDimensions(this.$TahoeController19,this.$TahoeController17),a.updateSource(this.$TahoeController18)),a.pause("autoplay_initiated"),a.mute(),a.getState()!=="finished"&&this.$TahoeController16.emit("resumeAutoplay"),this.$TahoeController16.emit("TahoeController/exitTahoe"));b("Arbiter").inform("TahoeController/exitTahoe");this.$TahoeController23&&this.$TahoeController23.emit("TahoeController/exitTahoe");b("gkx")("1174477")&&b("ScriptPath").closeOverlayView("tahoe");if(this.$TahoeController23!==this.$TahoeController16){a=this.$TahoeController23;a.pause("user_initiated")}this.$TahoeController9.cleanup();this.$TahoeController8!=null&&(this.$TahoeController8.destroy(),this.$TahoeController8=null);this.$TahoeController10&&(document.title=this.$TahoeController10);this.$TahoeController6&&b("TimeSlice").cancel(this.$TahoeController6);b("TahoeActions").exit();b("Tahoe").set(null);this.$TahoeController21&&b("PageTransitions").go("/")};d.getID=function(){return this.$TahoeController15};d.getDialogContent=function(){return this.$TahoeController9.getDialogContent()};d.getContent=function(){return this.$TahoeController9.getContent()};d.getMediaContent=function(){return this.$TahoeController9.getMediaContent()};d.getSideContent=function(){return this.$TahoeController9.getSideContent()};d.getUserID=function(){return this.$TahoeController32};d.getChannelID=function(){return this.$TahoeController5};d.getVideoListID=function(){return this.$TahoeController33};d.getCaller=function(){return this.$TahoeController4};d.getExternalLogID=function(){return this.$TahoeController12};d.getIsPermalink=function(){return this.$TahoeController21};d.updateMedia=function(a){__p&&__p();var b=this.$TahoeController23;b&&typeof b.getVolume==="function"&&typeof b.isMuted==="function"&&(this.$TahoeController7=b.getVolume(),this.$TahoeController20=b.isMuted());this.$TahoeController46(a);this.$TahoeController9.setMediaContent(this.$TahoeController23.getRootNode());this.$TahoeController15=this.$TahoeController23.getMediaID();this.$TahoeController22=!1;this.setMediaState();b=this.$TahoeController36;b.setUpEndScreen();this.$TahoeController36.setUpUFI();this.$TahoeController26="user_initiated"};d.getView=function(){return this.$TahoeController36};d.setAutoplayAllowed=function(a){this.$TahoeController3=a};d.logEvent=function(a){new(b("TahoeTypedLogger"))().setEvent(a).setMediaID(this.$TahoeController15).log()};d.getFeedLocation=function(){return this.$TahoeController42};c.openFromVideoPlayer=function(a,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();b("gkx")("1174477")&&b("ScriptPath").openOverlayView("tahoe");b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoPlayer");var p=b("TimeSlice").getGuardedContinuation("TahoeController beginPlayback");a.once("beginPlayback",p.bind(void 0,function(){b("EventProfiler").informPointOnActiveInteractions("tahoe_media_done",{isPointOfInterest:!0},!0)}));var q=b("collectDataAttributes")(a.getRootNode(),["ft"]);a=new c({mediaController:{video:a},uri:d,userID:m,channelID:e,caller:f,origin:h,suborigin:i,feedTracking:q,storyIdentifier:j,feedLocation:k,entryDocumentTitle:document.title,reactionVideoChannelType:l,externalLogID:n,searchKeywordsForVideoChaining:o});a.$TahoeController6=p;b("Tahoe").set(a);switch(g){case"player_click":a.logEvent("enter_with_player_click");break;case"control_click":a.logEvent("enter_with_control_click");break;case"live_video_reply_click":a.logEvent("enter_with_live_video_reply_click");break}};c.openFromVideoLink=function(a,d){__p&&__p();d===void 0&&(d={channelID:null,caller:null});d=d;var e=d.channelID,f=d.caller,g=d.origin,h=d.suborigin,i=d.userID,j=d.reactionVideoChannelType,l=d.reactionVideoChannelSubtype,m=d.externalLogID,n=d.searchKeywordsForVideoChaining,o=d.feedLocation,p=d.upstreamPlayerSource;d=d.videoListID;b("gkx")("1174477")&&b("ScriptPath").openOverlayView("tahoe");b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoLink");k&&k.pauseActiveVideo();var q=b("Tahoe").get();if(q){document.title=b("TahoeConstants").DEFAULT_BROWSER_TITLE;b("PageTransitions").go(a);return}g||(g=f&&f in b("VideoChannelCallerToPlayerOriginMap")?b("VideoChannelCallerToPlayerOriginMap")[f]:"unknown");b("Tahoe").set(new c({uri:a,channelID:e,caller:f,origin:g,suborigin:h,userID:i,reactionVideoChannelType:j,reactionVideoChannelSubtype:l,externalLogID:m,searchKeywordsForVideoChaining:n,feedLocation:o,entryDocumentTitle:document.title,upstreamPlayerSource:p,videoListID:d}))};c.openFromVideoLinkHelper=function(a,d,e,f,g,i){var j=a.getAttribute("data-channel-caller");j=j;var k=a.getAttribute("data-external-log-id")||void 0;d=a.getAttribute("data-player-origin")||d;c.openFromVideoLink(new(h||(h=b("URI")))(a.getAttribute("href")).addQueryData("ref","tahoe"),{channelID:a.getAttribute("data-video-channel-id"),caller:j,origin:d,suborigin:e,userID:i,externalLogID:k,searchKeywordsForVideoChaining:a.getAttribute("data-search-keyword"),reactionVideoChannelType:f||void 0,feedLocation:g})};c.openFromVideoPermalink=function(a,d){d===void 0&&(d=null);var e=new(h||(h=b("URI")))(a),f=e.getSubdomain()==="business";b("Tahoe").set(new c({uri:e,origin:"permalink",suborigin:a.indexOf("notif_id")!==-1?"notifications":"tahoe",isPermalink:!f,storyIdentifier:d}))};c.openFromVideoPermalinkToLandingPage=function(a,d,e,f){f===void 0&&(f=null);var g="permalink",i="tahoe";e===1&&(g="video_home",i="notifications");b("Tahoe").set(new c({uri:new(h||(h=b("URI")))(a),origin:g,suborigin:i,isPermalink:!0,landingPage:d,landingPageType:e,storyIdentifier:f}))};return c}(b("EventEmitter"));e.exports=c}),null);
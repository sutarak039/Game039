if (self.CavalryLogger) { CavalryLogger.start_js(["kqt1E"]); }

__d("CreateLivingRoomActionLinkImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("create_living_room_action_link_impression");e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("rxjs-observable-0.0.7",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});function a(a){var b;a=a.Symbol;typeof a==="function"?a.observable?b=a.observable:(b=a("observable"),a.observable=b):b="@@observable";return b}g.getSymbolObservable=a;g.observable=a(typeof window==="undefined"?{}:window)}var j=!1,k=function(){j||(j=!0,i());return h.exports},l={},m={exports:l};function n(){Object.defineProperty(l,"__esModule",{value:!0});function a(){}l.noop=a}var o=!1,p=function(){o||(o=!0,n());return m.exports},q={},r={exports:q};function aa(){__p&&__p();Object.defineProperty(q,"__esModule",{value:!0});var a=p();function b(){var a=[];for(var b=0;b<arguments.length;b++)a[b]=arguments[b];return c(a)}q.pipe=b;function c(b){if(!b)return a.noop;return b.length===1?b[0]:function(a){return b.reduce(function(a,b){return b(a)},a)}}q.pipeFromArray=c}var s=!1,ba=function(){s||(s=!0,aa());return r.exports},t={},ca={exports:t};function da(){Object.defineProperty(t,"__esModule",{value:!0});function a(a){setTimeout(function(){throw a})}t.hostReportError=a}var u=!1,v=function(){u||(u=!0,da());return ca.exports},w={},ea={exports:w};function fa(){Object.defineProperty(w,"__esModule",{value:!0});var a=v();w.empty={closed:!0,next:function(a){},error:function(b){a.hostReportError(b)},complete:function(){}}}var x=!1,y=function(){x||(x=!0,fa());return ea.exports},z={},ga={exports:z};function ha(){Object.defineProperty(z,"__esModule",{value:!0}),z.errorObject={e:{}}}var A=!1,B=function(){A||(A=!0,ha());return ga.exports},C={},ia={exports:C};function ja(){Object.defineProperty(C,"__esModule",{value:!0}),C.isArray=Array.isArray||function(a){return a&&typeof a.length==="number"}}var D=!1,ka=function(){D||(D=!0,ja());return ia.exports},E={},la={exports:E};function ma(){Object.defineProperty(E,"__esModule",{value:!0});function a(a){return typeof a==="function"}E.isFunction=a}var F=!1,G=function(){F||(F=!0,ma());return la.exports},H={},na={exports:H};function oa(){Object.defineProperty(H,"__esModule",{value:!0});function a(a){return a!=null&&typeof a==="object"}H.isObject=a}var I=!1,pa=function(){I||(I=!0,oa());return na.exports},J={},qa={exports:J};function ra(){__p&&__p();Object.defineProperty(J,"__esModule",{value:!0});var a=B(),b;function c(){try{return b.apply(this,arguments)}catch(b){a.errorObject.e=b;return a.errorObject}}function d(a){b=a;return c}J.tryCatch=d}var K=!1,sa=function(){K||(K=!0,ra());return qa.exports},L={},ta={exports:L};function ua(){__p&&__p();Object.defineProperty(L,"__esModule",{value:!0});function a(a){Error.call(this);this.message=a?a.length+" errors occurred during unsubscription:\n"+a.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"";this.name="UnsubscriptionError";this.errors=a;return this}a.prototype=Object.create(Error.prototype);L.UnsubscriptionError=a}var M=!1,va=function(){M||(M=!0,ua());return ta.exports},N={},wa={exports:N};function xa(){__p&&__p();Object.defineProperty(N,"__esModule",{value:!0});var a=B(),b=ka(),c=G(),d=pa(),e=sa(),f=va(),g=function(){__p&&__p();function g(a){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,a&&(this._unsubscribe=a)}g.prototype.unsubscribe=function(){__p&&__p();var g=!1,i;if(this.closed)return;var j=this,k=j._parent,l=j._parents,m=j._unsubscribe;j=j._subscriptions;this.closed=!0;this._parent=null;this._parents=null;this._subscriptions=null;var n=-1,o=l?l.length:0;while(k)k.remove(this),k=++n<o&&l[n]||null;if(c.isFunction(m)){k=e.tryCatch(m).call(this);k===a.errorObject&&(g=!0,i=i||(a.errorObject.e instanceof f.UnsubscriptionError?h(a.errorObject.e.errors):[a.errorObject.e]))}if(b.isArray(j)){n=-1;o=j.length;while(++n<o){l=j[n];if(d.isObject(l)){k=e.tryCatch(l.unsubscribe).call(l);if(k===a.errorObject){g=!0;i=i||[];m=a.errorObject.e;m instanceof f.UnsubscriptionError?i=i.concat(h(m.errors)):i.push(m)}}}}if(g)throw new f.UnsubscriptionError(i)};g.prototype.add=function(a){__p&&__p();if(!a||a===g.EMPTY)return g.EMPTY;if(a===this)return this;var b=a;switch(typeof a){case"function":b=new g(a);case"object":if(b.closed||typeof b.unsubscribe!=="function")return b;else if(this.closed){b.unsubscribe();return b}else if(typeof b._addParent!=="function"){var c=b;b=new g();b._subscriptions=[c]}break;default:throw new Error("unrecognized teardown "+a+" added to Subscription.")}c=this._subscriptions||(this._subscriptions=[]);c.push(b);b._addParent(this);return b};g.prototype.remove=function(a){var b=this._subscriptions;if(b){a=b.indexOf(a);a!==-1&&b.splice(a,1)}};g.prototype._addParent=function(a){var b=this,c=b._parent;b=b._parents;!c||c===a?this._parent=a:!b?this._parents=[a]:b.indexOf(a)===-1&&b.push(a)};g.EMPTY=function(a){a.closed=!0;return a}(new g());return g}();N.Subscription=g;function h(a){return a.reduce(function(a,b){return a.concat(b instanceof f.UnsubscriptionError?b.errors:b)},[])}}var O=!1,P=function(){O||(O=!0,xa());return wa.exports},Q={},ya={exports:Q};function za(){Object.defineProperty(Q,"__esModule",{value:!0}),Q.rxSubscriber=typeof Symbol==="function"&&typeof Symbol["for"]==="function"?Symbol["for"]("rxSubscriber"):"@@rxSubscriber",Q.$$rxSubscriber=Q.rxSubscriber}var R=!1,S=function(){R||(R=!0,za());return ya.exports},T={},Aa={exports:T};function Ba(){__p&&__p();var a=this&&this.__extends||function(){__p&&__p();var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){a(b,c);function d(){this.constructor=b}b.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}}();Object.defineProperty(T,"__esModule",{value:!0});var b=y(),c=P(),d=S(),e=v(),f=G(),g=function(e){__p&&__p();a(c,e);function c(a,c,f){__p&&__p();var g=e.call(this)||this;g.syncErrorValue=null;g.syncErrorThrown=!1;g.syncErrorThrowable=!1;g.isStopped=!1;g._parentSubscription=null;switch(arguments.length){case 0:g.destination=b.empty;break;case 1:if(!a){g.destination=b.empty;break}if(typeof a==="object"){if(i(a)){var j=a[d.rxSubscriber]();g.syncErrorThrowable=j.syncErrorThrowable;g.destination=j;j.add(g)}else g.syncErrorThrowable=!0,g.destination=new h(g,a);break}default:g.syncErrorThrowable=!0;g.destination=new h(g,a,c,f);break}return g}c.prototype[d.rxSubscriber]=function(){return this};c.prototype.next=function(a){this.isStopped||this._next(a)};c.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};c.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};c.prototype.unsubscribe=function(){if(this.closed)return;this.isStopped=!0;e.prototype.unsubscribe.call(this)};c.prototype._next=function(a){this.destination.next(a)};c.prototype._error=function(a){this.destination.error(a),this.unsubscribe()};c.prototype._complete=function(){this.destination.complete(),this.unsubscribe()};c.prototype._addParentTeardownLogic=function(a){a!==this&&(this._parentSubscription=this.add(a))};c.prototype._unsubscribeParentSubscription=function(){this._parentSubscription!==null&&this._parentSubscription.unsubscribe()};c.prototype._unsubscribeAndRecycle=function(){__p&&__p();var a=this,b=a._parent;a=a._parents;this._parent=null;this._parents=null;this.unsubscribe();this.closed=!1;this.isStopped=!1;this._parent=b;this._parents=a;return this};return c}(c.Subscription);T.Subscriber=g;var h=function(d){__p&&__p();a(c,d);function c(a,c,e,g){__p&&__p();var h=d.call(this)||this;h._parentSubscriber=a;var i;a=h;f.isFunction(c)?i=c:c&&(i=c.next,e=c.error,g=c.complete,c!==b.empty&&(a=Object.create(c),f.isFunction(a.unsubscribe)&&h.add(a.unsubscribe.bind(a)),a.unsubscribe=h.unsubscribe.bind(h)));h._context=a;h._next=i;h._error=e;h._complete=g;return h}c.prototype.next=function(a){!this.isStopped&&this._next&&this.__tryOrUnsub(this._next,a)};c.prototype.error=function(a){if(!this.isStopped){var b=this._parentSubscriber;this._error?(this.__tryOrUnsub(this._error,a),this.unsubscribe()):!b.syncErrorThrowable?(this.unsubscribe(),e.hostReportError(a)):(e.hostReportError(a),this.unsubscribe())}};c.prototype.complete=function(){var a=this;if(!this.isStopped){if(this._complete){var b=function(){return a._complete.call(a._context)};this.__tryOrUnsub(b)}this.unsubscribe()}};c.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(a){this.unsubscribe(),e.hostReportError(a)}};c.prototype.__tryOrSetError=function(a,b,c){throw new Error("bad call")};c.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._context=null;this._parentSubscriber=null;a.unsubscribe()};return c}(g);function i(a){return a instanceof g||"syncErrorThrowable"in a&&a[d.rxSubscriber]}}var U=!1,Ca=function(){U||(U=!0,Ba());return Aa.exports},V={},Da={exports:V};function Ea(){__p&&__p();Object.defineProperty(V,"__esModule",{value:!0});var a=y(),b=Ca(),c=S();function d(d,e,f){if(d){if(d instanceof b.Subscriber)return d;if(d[c.rxSubscriber])return d[c.rxSubscriber]()}return!d&&!e&&!f?new b.Subscriber(a.empty):new b.Subscriber(d,e,f)}V.toSubscriber=d}var W=!1,Fa=function(){W||(W=!0,Ea());return Da.exports},X={},Ga={exports:X};function Ha(){__p&&__p();Object.defineProperty(X,"__esModule",{value:!0});var a=k(),b=ba(),c=Fa(),d=function(){__p&&__p();function d(a){this._isScalar=!1,a&&(this._subscribe=a)}d.prototype.lift=function(a){var b=new d();b.source=this;b.operator=a;return b};d.prototype.subscribe=function(a,b,d){var e=this.operator;a=c.toSubscriber(a,b,d);e?e.call(a,this.source):a.add(this.source||this._trySubscribe(a));return a};d.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(b){a.error(b)}};d.prototype.forEach=function(a,b){var c=this;b=e(b);return new b(function(b,d){var e;e=c.subscribe(function(b){try{a(b)}catch(a){d(a),e&&e.unsubscribe()}},d,b)})};d.prototype._subscribe=function(a){var b=this.source;return b&&b.subscribe(a)};d.prototype[a.observable]=function(){return this};d.prototype.pipe=function(){var a=[];for(var c=0;c<arguments.length;c++)a[c]=arguments[c];return a.length===0?this:b.pipeFromArray(a)(this)};d.prototype.toPromise=function(a){var b=this;a=e(a);return new a(function(a,c){var d;b.subscribe(function(a){return d=a},function(a){return c(a)},function(){return a(d)})})};return d}();X.Observable=d;function e(a){a||(a=Promise);if(!a)throw new Error("no Promise impl found");return a}}var Y=!1,Ia=function(){Y||(Y=!0,Ha());return Ga.exports},Z={},Ja={exports:Z};function Ka(){Object.defineProperty(Z,"__esModule",{value:!0});var a=Ia();Z.Observable=a.Observable;a=P();Z.Subscription=a.Subscription}var $=!1,La=function(){$||($=!0,Ka());return Ja.exports};a=function(a){switch(a){case void 0:return La()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("undux-fb-5.0.0-beta.22",["rxjs-observable-0.0.7","react-0.0.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("rxjs-observable-0.0.7")),h=a(b("react-0.0.0")),i={},j={exports:i};function k(){__p&&__p();Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b="__ALL__",c="[undux] Error: Cyclical dependency detected. This may cause a stack overflow unless you fix it. \nThe culprit is the following sequence of .set calls, called from one or more of your Undux Effects: ";c=function(){__p&&__p();function c(a){a===void 0&&(a=!1),this.isDevMode=a,this.state={callChain:new Set(),observables:new Map(),observers:new Map()}}c.prototype.emit=function(a,c){if(this.isDevMode)if(this.state.callChain.has(a))return this;else this.state.callChain.add(a);this.hasChannel(a)&&this.emitOnChannel(a,c);this.hasChannel(b)&&this.emitOnChannel(b,c);this.isDevMode&&this.state.callChain.clear();return this};c.prototype.on=function(a){return this.createChannel(a)};c.prototype.all=function(){return this.createChannel(b)};c.prototype.createChannel=function(b){var c=this;this.state.observers.has(b)||this.state.observers.set(b,[]);this.state.observables.has(b)||this.state.observables.set(b,[]);var d=new a.Observable(function(a){c.state.observers.get(b).push(a);return function(){return c.deleteChannel(b,d)}});this.state.observables.get(b).push(d);return d};c.prototype.deleteChannel=function(a,b){if(!this.state.observables.has(a))return;var c=this.state.observables.get(a);b=c.indexOf(b);if(b<0)return;c.splice(b,1);c.length||(this.state.observables["delete"](a),this.state.observers["delete"](a))};c.prototype.emitOnChannel=function(a,b){this.state.observers.get(a).forEach(function(a){return a.next(b)})};c.prototype.hasChannel=function(a){return this.state.observables.has(a)};return c}();i.Emitter=c}var l=!1,m=function(){l||(l=!0,k());return j.exports},n={},o={exports:n};function p(){__p&&__p();Object.defineProperty(n,"__esModule",{value:!0});function a(a,c){return b(a)&&b(c)?a.equals(c):a===c}n.equals=a;function b(a){return!!a&&typeof a==="object"&&("@@__IMMUTABLE_ITERABLE__@@"in a||"@@__IMMUTABLE_RECORD__@@"in a)}n.isImmutable=b;function c(a){return a.displayName||a.name||"Component"}n.getDisplayName=c;function d(a){return Object.keys(a)}n.keys=d;function e(a,b){var c={};d(a).forEach(function(d){return c[d]=b(a[d],d)});return c}n.mapValues=e;function f(a,b){return d(a).some(function(c){return b(a[c],c)})}n.some=f}var q=!1,r=function(){q||(q=!0,p());return o.exports},s={},t={exports:s};function u(){Object.defineProperty(s,"__esModule",{value:!0});function a(a){a.onAll().subscribe(function(a){var b=a.key;b=a.previousValue;b=a.value});return a}s.withLogger=a}var v=!1,w=function(){v||(v=!0,u());return t.exports},x={},y={exports:x};function z(){__p&&__p();Object.defineProperty(x,"__esModule",{value:!0});function a(a){__p&&__p();var b=window.__REDUX_DEVTOOLS_EXTENSION__;if(!b)return a;var c=b.connect(),d=!1,e=function(b){var c=a.getState();for(var e in b)e in c&&(d=!0,a.set(e)(b[e]),d=!1)};c.subscribe(function(b){switch(b.type){case"START":c.send(null,a.getState());return;case"DISPATCH":if(!b.state)return;switch(b.payload.type){case"JUMP_TO_ACTION":case"JUMP_TO_STATE":e(JSON.parse(b.state));return}return}});a.onAll().subscribe(function(b){b=b.key;if(d)return;c.send(b,a.getState())});return a}x.withReduxDevtools=a}var A=!1,B=function(){A||(A=!0,z());return y.exports},C={},D={exports:C};function E(){Object.defineProperty(C,"__esModule",{value:!0});var a=$();function b(b){return a.connectAs({store:b})}C.connect=b}var F=!1,G=function(){F||(F=!0,E());return D.exports},H={},I={exports:H};function J(){__p&&__p();var a=this&&this.__extends||function(){__p&&__p();var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){a(b,c);function d(){this.constructor=b}b.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}}(),b=this&&this.__assign||function(){b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return b.apply(this,arguments)};Object.defineProperty(H,"__esModule",{value:!0});var c=h(),d=r();function e(e){__p&&__p();return function(f){__p&&__p();var g;return g=function(g){__p&&__p();a(h,g);function h(){__p&&__p();var a=g!==null&&g.apply(this,arguments)||this;a.state={stores:d.mapValues(e,function(a){return a.getCurrentSnapshot()}),subscriptions:d.keys(e).map(function(b){return e[b].onAll().subscribe(function(c){var f=c.previousValue;c=c.value;if(d.equals(f,c))return!1;a.setState(function(a){return{stores:Object.assign({},a.stores,(a={},a[b]=e[b].getCurrentSnapshot(),a))}})})})};return a}h.prototype.componentWillUnmount=function(){this.state.subscriptions.forEach(function(a){return a.unsubscribe()})};h.prototype.shouldComponentUpdate=function(a,b){var c=this;return d.some(b.stores,function(a,b){return a!==c.state.stores[b]})||Object.keys(a).some(function(b){return a[b]!==c.props[b]})};h.prototype.render=function(){return c.createElement(f,b({},this.props,this.state.stores))};return h}(c.Component),g.displayName="withStore("+d.getDisplayName(f)+")",g}}H.connectAs=e}var K=!1,L=function(){K||(K=!0,J());return I.exports},M={},N={exports:M};function O(){__p&&__p();var a=this&&this.__extends||function(){__p&&__p();var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){a(b,c);function d(){this.constructor=b}b.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}}(),b=this&&this.__assign||function(){b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return b.apply(this,arguments)};Object.defineProperty(M,"__esModule",{value:!0});var c=h(),d=$(),e=r();function f(f,h){__p&&__p();var i=c.createContext({__MISSING_PROVIDER__:!0}),j=function(e){__p&&__p();a(b,e);function b(a){var b=e.call(this,a)||this,c=a.initialState||f;b.storeDefinition=d.createStore(c);c=a.effects||h;c&&c(b.storeDefinition);b.state={storeSnapshot:b.storeDefinition.getCurrentSnapshot()};b.subscription=b.storeDefinition.onAll().subscribe(function(){return b.setState({storeSnapshot:b.storeDefinition.getCurrentSnapshot()})});return b}b.prototype.componentWillUnmount=function(){this.subscription.unsubscribe(),this.storeDefinition.storeSnapshot=null,this.storeDefinition=null};b.prototype.render=function(){return c.createElement(i.Provider,{value:this.state.storeSnapshot},this.props.children)};return b}(c.Component),k=function(a){return c.createElement(i.Consumer,null,function(b){if(!g(b))throw Error('[Undux] Component "'+a.displayName+'" does not seem to be nested in an Undux <Container>. To fix this error, be sure to render the component in the <Container>...</Container> component that you got back from calling createConnectedStore().');return a.children(b)})};function l(a){var d=e.getDisplayName(a),f=function(e){return c.createElement(k,{displayName:d},function(d){return c.createElement(a,b({store:d},e))})};f.displayName="withStore("+d+")";return f}return{Container:j,useStore:function(){return c.useContext(i)},withStore:l}}M.createConnectedStore=f;function g(a){return!("__MISSING_PROVIDER__"in a)}}var P=!1,Q=function(){P||(P=!0,O());return N.exports},R={},S={exports:R};function T(){__p&&__p();var a=this&&this.__extends||function(){__p&&__p();var a=function(b,c){a=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){a(b,c);function d(){this.constructor=b}b.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}}(),b=this&&this.__assign||function(){b=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return b.apply(this,arguments)};Object.defineProperty(R,"__esModule",{value:!0});var c=h(),d=$(),e=r();function f(f,h){__p&&__p();var i=c.createContext({__MISSING_PROVIDER__:!0}),j=function(g){__p&&__p();a(b,g);function b(a){__p&&__p();var b=g.call(this,a)||this,c=a.initialStates||f;c=e.mapValues(c,function(a){return d.createStore(a)});a=a.effects||h;a&&a(c);b.state={storeDefinitions:c,storeSnapshots:e.mapValues(c,function(a){return a.getCurrentSnapshot()}),subscriptions:e.mapValues(c,function(a,c){return a.onAll().subscribe(function(){return b.setState(function(b){return{storeSnapshots:Object.assign({},b.storeSnapshots,(b={},b[c]=a.getCurrentSnapshot(),b))}})})})};return b}b.prototype.componentWillUnmount=function(){e.mapValues(this.state.subscriptions,function(a){return a.unsubscribe()}),this.state.storeSnapshots,e.mapValues(this.state.storeSnapshots,function(a){return a.state=null}),e.mapValues(this.state.storeSnapshots,function(a){return a.storeDefinition=null}),e.mapValues(this.state.storeDefinitions,function(a){return a.storeSnapshot=null})};b.prototype.render=function(){return c.createElement(i.Provider,{value:this.state.storeSnapshots},this.props.children)};return b}(c.Component),k=function(a){return c.createElement(i.Consumer,null,function(b){if(!g(b))throw Error('[Undux] Component "'+a.displayName+'" does not seem to be nested in an Undux <Container>. To fix this error, be sure to render the component in the <Container>...</Container> component that you got back from calling createConnectedStoreAs().');return a.children(b)})};function l(a){var d=e.getDisplayName(a),f=function(e){return c.createElement(k,{displayName:d},function(d){return c.createElement(a,b({},d,e))})};f.displayName="withStores("+d+")";return f}return{Container:j,useStores:function(){return c.useContext(i)},withStores:l}}R.createConnectedStoreAs=f;function g(a){return!("__MISSING_PROVIDER__"in a)}}var U=!1,V=function(){U||(U=!0,T());return S.exports},W={},aa={exports:W};function ba(){Object.defineProperty(W,"__esModule",{value:!0});var a=G();W.connect=a.connect;a=L();W.connectAs=a.connectAs;a=Q();W.createConnectedStore=a.createConnectedStore;a=V();W.createConnectedStoreAs=a.createConnectedStoreAs}var X=!1,ca=function(){X||(X=!0,ba());return aa.exports},Y={},da={exports:Y};function ea(){__p&&__p();function a(a){for(var b in a)Y.hasOwnProperty(b)||(Y[b]=a[b])}Object.defineProperty(Y,"__esModule",{value:!0});var b=m(),c=r(),d=function(){__p&&__p();function a(a,b){this.state=a,this.storeDefinition=b}a.prototype.get=function(a){return this.state[a]};a.prototype.set=function(a){return this.storeDefinition.set(a)};a.prototype.setFrom_EXPERIMENTAL=function(a){return this.storeDefinition.setFrom_EXPERIMENTAL(a)};a.prototype.on=function(a){return this.storeDefinition.on(a)};a.prototype.onAll=function(){return this.storeDefinition.onAll()};a.prototype.getState=function(){return Object.freeze(this.state)};return a}();Y.StoreSnapshot=d;var e={isDevMode:!1},f=function(){__p&&__p();function a(a,e){__p&&__p();var f=this;this.alls=new b.Emitter(e.isDevMode);this.emitter=new b.Emitter(e.isDevMode);this.storeSnapshot=new d(a,this);this.setters=c.mapValues(a,function(a,b){return function(a){var c,e=f.storeSnapshot.get(b);f.storeSnapshot=new d(Object.assign({},f.storeSnapshot.getState(),(c={},c[b]=a,c)),f);f.emitter.emit(b,a);f.alls.emit(b,{key:b,previousValue:e,value:a})}})}a.prototype.on=function(a){return this.emitter.on(a)};a.prototype.onAll=function(){return this.alls.all()};a.prototype.get=function(a){return this.storeSnapshot.get(a)};a.prototype.set=function(a){return this.setters[a]};a.prototype.setFrom_EXPERIMENTAL=function(a){return a(this.storeSnapshot)};a.prototype.getCurrentSnapshot=function(){return this.storeSnapshot};a.prototype.toStore=function(){return this.storeSnapshot};a.prototype.getState=function(){return this.storeSnapshot.getState()};return a}();Y.StoreDefinition=f;function g(a,b){b===void 0&&(b=e);return new f(a,b)}Y.createStore=g;a(w());a(B());a(ca())}var Z=!1,$=function(){Z||(Z=!0,ea());return da.exports};c=function(a){switch(a){case void 0:return $()}};e.exports=c}),null);
__d("undux-fb",["undux-fb-5.0.0-beta.22"],(function(a,b,c,d,e,f){e.exports=b("undux-fb-5.0.0-beta.22")()}),null);
__d("undux",["undux-fb"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("undux-fb").createStore(a)}function c(a){return a}e.exports.connect=(d=b("undux-fb")).connect;e.exports.connectAs=d.connectAs;e.exports.createConnectedStore=d.createConnectedStore;e.exports.createConnectedStoreAs=d.createConnectedStoreAs;e.exports.createStore=a;e.exports.withLogger=c;e.exports.withReduxDevtools=d.withReduxDevtools}),null);
__d("CreateLivingRoomActionLinkStore",["undux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("undux").connect;c=b("undux").createStore;d={ctas:{}};var g=c(d);f=function(a,b){var c,d=g.get("ctas");if(((c=d[a])==null?void 0:c.isActivated)===!0)return;d=babelHelpers["extends"]({},d,(c={},c[a]={isActivated:!0,creationSource:b},c));g.set("ctas")(d)};e.exports={withStore:a(g),activateLivingRoomCTAForVideo:f}}),null);
__d("CreateLivingRoomActionLink.react",["ix","cx","fbt","CreateLivingRoomActionLinkImpressionFalcoEvent","CreateLivingRoomActionLinkStore","Image.react","React","XLivingRoomVideoShareDialogController","XUIButton.react","XUIGrayText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("CreateLivingRoomActionLinkStore").activateLivingRoomCTAForVideo;a=b("CreateLivingRoomActionLinkStore").withStore;var k=a(function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.triggers;if(a==null)return;j(this.props.videoID,this.props.creationSource||"unknown_timeline_video_cta")};d.componentDidUpdate=function(a){var c=this.props,d=c.videoID,e=c.creationSource;!this.$1&&!((c=a.store.get("ctas")[d])==null?void 0:c.isActivated)&&((a=this.props.store.get("ctas")[d])==null?void 0:a.isActivated)&&(b("CreateLivingRoomActionLinkImpressionFalcoEvent").log(function(){return{video_id:d,creation_source:e!=null?e:"feed_cta_on_unknown",cta_style:"create"}}),this.$1=!0)};d.render=function(){var a=this.props,c=a.videoID,d=a.title,e=a.linkTitle,f=a.groupID,h=a.creationSource;a=a.playlistVideoIDs;var j=this.props.store.get("ctas")[c];if(j==null)return null;j=j.isActivated;return!j?null:b("React").jsxs("div",{className:"_1kyo",children:[b("React").jsx("div",{className:"_6z3v",children:b("React").jsx(b("Image.react"),{className:"_6z2v",src:g("657321")})}),b("React").jsx("div",{className:"_1kyp _6z2w",children:b("React").jsx(b("XUIGrayText.react"),{shade:"light",children:d!=null?d:i._("\u0e23\u0e31\u0e1a\u0e0a\u0e21\u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e19\u0e35\u0e49\u0e01\u0e31\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13")})}),b("React").jsx("div",{className:"_1kyq",children:b("React").jsx(b("XUIButton.react"),{display:"inline-block",label:e!=null?e:i._("\u0e40\u0e23\u0e34\u0e48\u0e21\u0e1b\u0e32\u0e23\u0e4c\u0e15\u0e35\u0e49\u0e23\u0e31\u0e1a\u0e0a\u0e21"),href:"#",ajaxify:b("XLivingRoomVideoShareDialogController").getURIBuilder().setFBID("video_id",c).setEnum("creation_source",h).setEnum("entry_source","CTA_CREATION_DIALOG").setFBIDVector("playlist_video_ids",a).setFBID("group_id",f).getURI(),rel:"dialog-post"})})]})};return c}(b("React").Component));c=function(a){return b("React").jsx(k,babelHelpers["extends"]({},a))};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/bm2nRX4Tob0/
 */
__d("stream-helpers",["Promise","ManagedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){b("ManagedError").prototype.constructor.apply(this,arguments)}g.prototype=new(b("ManagedError"))();g.prototype.constructor=g;f.AssertionError=g;function h(a,b){if(typeof a!=="boolean"||!a)throw new g(b);return a}f.assert=h;function i(a){return typeof a==="string"||typeof a==="symbol"}f.typeIsObject=function(a){return typeof a==="object"&&a!==null||typeof a==="function"};f.createDataProperty=function(a,b,c){h(f.typeIsObject(a)),Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})};f.createArrayFromList=function(a){return a.slice()};f.ArrayBufferCopy=function(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)};f.CreateIterResultObject=function(a,b){h(typeof b==="boolean");var c={};Object.defineProperty(c,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(c,"done",{value:b,enumerable:!0,writable:!0,configurable:!0});return c};f.IsFiniteNonNegativeNumber=function(a){if(Number.isNaN(a))return!1;if(a===Infinity)return!1;return a<0?!1:!0};function j(a,b,c){if(typeof a!=="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}f.InvokeOrNoop=function(a,b,c){h(a!==void 0);h(i(b));h(Array.isArray(c));b=a[b];return b===void 0?void 0:j(b,a,c)};f.PromiseInvokeOrNoop=function(a,c,d){h(a!==void 0);h(i(c));h(Array.isArray(d));try{return b("Promise").resolve(f.InvokeOrNoop(a,c,d))}catch(a){return b("Promise").reject(a)}};f.PromiseInvokeOrPerformFallback=function(a,c,d,e,f){__p&&__p();h(a!==void 0);h(i(c));h(Array.isArray(d));h(Array.isArray(f));try{c=a[c]}catch(a){return b("Promise").reject(a)}if(c===void 0)return e.apply(void 0,f);try{return b("Promise").resolve(j(c,a,d))}catch(a){return b("Promise").reject(a)}};f.TransferArrayBuffer=function(a){return a.slice()};f.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||a<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};f.ValidateAndNormalizeQueuingStrategy=function(a,b){if(a!==void 0&&typeof a!=="function")throw new TypeError("size property of a queuing strategy must be a function");b=f.ValidateAndNormalizeHighWaterMark(b);return{size:a,highWaterMark:b}}}),null);
/**
 * License: https://www.facebook.com/legal/license/bm2nRX4Tob0/
 */
__d("stream-queue-with-sizes",["stream-helpers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("stream-helpers").assert,h=b("stream-helpers").IsFiniteNonNegativeNumber;f.DequeueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");g(a._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();a._queueTotalSize-=b.size;a._queueTotalSize<0&&(a._queueTotalSize=0);return b.value};f.EnqueueValueWithSize=function(a,b,c){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");c=Number(c);if(!h(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c});a._queueTotalSize+=c};f.PeekQueueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");g(a._queue.length>0,"Spec-level failure: should never peek at an empty queue.");a=a._queue[0];return a.value};f.ResetQueue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a._queue=[],a._queueTotalSize=0}}),null);
/**
 * License: https://www.facebook.com/legal/license/bm2nRX4Tob0/
 */
__d("stream-utils",["stream-helpers"],(function(a,b,c,d,e,f){"use strict";var g=b("stream-helpers").AssertionError;f.rethrowAssertionErrorRejection=function(a){a&&a.constructor===g&&setTimeout(function(){throw a},0)}}),null);
/**
 * License: https://www.facebook.com/legal/license/WmeYRuHLl2U/
 */
__d("WritableStreamPolyfill",["stream-helpers","stream-utils","stream-queue-with-sizes","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("stream-helpers")).InvokeOrNoop,h=c.PromiseInvokeOrNoop,i=c.ValidateAndNormalizeQueuingStrategy,j=c.typeIsObject,k=c.assert,l=b("stream-utils").rethrowAssertionErrorRejection,m=(d=b("stream-queue-with-sizes")).DequeueValue,n=d.EnqueueValueWithSize,o=d.PeekQueueValue,p=d.ResetQueue,q="[[StartSteps]]",r="[[AbortSteps]]",s="[[ErrorSteps]]";f=function(){__p&&__p();function a(a,b){__p&&__p();a===void 0&&(a={});b=b===void 0?{}:b;var c=b.size;b=b.highWaterMark;b=b===void 0?1:b;this._state="writable";this._storedError=void 0;this._writer=void 0;this._writableStreamController=void 0;this._writeRequests=[];this._inFlightWriteRequest=void 0;this._closeRequest=void 0;this._inFlightCloseRequest=void 0;this._pendingAbortRequest=void 0;this._backpressure=!1;var d=a.type;if(d!==void 0)throw new RangeError("Invalid type is specified");this._writableStreamController=new ga(this,a,c,b);this._writableStreamController[q]();Object.defineProperty&&Object.defineProperty(this,"locked",{get:this._isLocked.bind(this)})}var c=a.prototype;c._isLocked=function(){if(u(this)===!1)throw T("locked");return v(this)};c.abort=function(a){if(u(this)===!1)return b("MaybeNativePromise").reject(T("abort"));return v(this)===!0?b("MaybeNativePromise").reject(new TypeError("Cannot abort a stream that already has a writer")):w(this,a)};c.getWriter=function(){if(u(this)===!1)throw T("getWriter");return t(this)};return a}();e.exports={AcquireWritableStreamDefaultWriter:t,IsWritableStream:u,IsWritableStreamLocked:v,WritableStream:f,WritableStreamAbort:w,WritableStreamDefaultControllerError:S,WritableStreamDefaultWriterCloseWithErrorPropagation:a,WritableStreamDefaultWriterRelease:M,WritableStreamDefaultWriterWrite:N,WritableStreamCloseQueuedOrInFlight:F};function t(a){return new ca(a)}function u(a){if(!j(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!1:!0}function v(a){k(u(a)===!0,"IsWritableStreamLocked should only be used on known writable streams");return a._writer===void 0?!1:!0}function w(a,c){__p&&__p();var d=a._state;if(d==="closed")return b("MaybeNativePromise").resolve(void 0);if(d==="errored")return b("MaybeNativePromise").reject(a._storedError);var e=new TypeError("Requested to abort");if(a._pendingAbortRequest!==void 0)return b("MaybeNativePromise").reject(e);k(d==="writable"||d==="erroring","state must be writable or erroring");var f=!1;d==="erroring"&&(f=!0,c=void 0);d=new(b("MaybeNativePromise"))(function(b,d){a._pendingAbortRequest={_resolve:b,_reject:d,_reason:c,_wasAlreadyErroring:f}});f===!1&&z(a,e);return d}function x(a){k(v(a)===!0);k(a._state==="writable");var c=new(b("MaybeNativePromise"))(function(b,c){b={_resolve:b,_reject:c};a._writeRequests.push(b)});return c}function y(a,b){var c=a._state;if(c==="writable"){z(a,b);return}k(c==="erroring");A(a)}function z(a,b){k(a._storedError===void 0,"stream._storedError === undefined");k(a._state==="writable","state must be writable");var c=a._writableStreamController;k(c!==void 0,"controller must not be undefined");a._state="erroring";a._storedError=b;var d=a._writer;d!==void 0&&L(d,b);G(a)===!1&&c._started===!0&&A(a)}function A(a){__p&&__p();k(a._state==="erroring","stream._state === erroring");k(G(a)===!1,"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController[s]();var b=a._storedError;for(var c=a._writeRequests,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f._reject(b)}a._writeRequests=[];if(a._pendingAbortRequest===void 0){H(a);return}var g=a._pendingAbortRequest;a._pendingAbortRequest=void 0;if(g._wasAlreadyErroring===!0){g._reject(b);H(a);return}f=a._writableStreamController[r](g._reason);f.then(function(){g._resolve(),H(a)},function(b){g._reject(b),H(a)})}function B(a){k(a._inFlightWriteRequest!==void 0),a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function C(a,b){k(a._inFlightWriteRequest!==void 0),a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,k(a._state==="writable"||a._state==="erroring"),y(a,b)}function D(a){__p&&__p();k(a._inFlightCloseRequest!==void 0);a._inFlightCloseRequest._resolve(void 0);a._inFlightCloseRequest=void 0;var b=a._state;k(b==="writable"||b==="erroring");b==="erroring"&&(a._storedError=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0));a._state="closed";b=a._writer;b!==void 0&&qa(b);k(a._pendingAbortRequest===void 0,"stream._pendingAbortRequest === undefined");k(a._storedError===void 0,"stream._storedError === undefined")}function E(a,b){k(a._inFlightCloseRequest!==void 0),a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,k(a._state==="writable"||a._state==="erroring"),a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),y(a,b)}function F(a){return a._closeRequest===void 0&&a._inFlightCloseRequest===void 0?!1:!0}function G(a){return a._inFlightWriteRequest===void 0&&a._inFlightCloseRequest===void 0?!1:!0}function aa(a){k(a._inFlightCloseRequest===void 0),k(a._closeRequest!==void 0),a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function ba(a){k(a._inFlightWriteRequest===void 0,"there must be no pending write request"),k(a._writeRequests.length!==0,"writeRequests must not be empty"),a._inFlightWriteRequest=a._writeRequests.shift()}function H(a){k(a._state==="errored",'_stream_.[[state]] is `"errored"`');a._closeRequest!==void 0&&(k(a._inFlightCloseRequest===void 0),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;b!==void 0&&(X(b,a._storedError),b._closedPromise["catch"](function(){}))}function I(a,b){k(a._state==="writable");k(F(a)===!1);var c=a._writer;c!==void 0&&b!==a._backpressure&&(b===!0?ta(c):(k(b===!1),$(c)));a._backpressure=b}var ca=function(){__p&&__p();function a(a){__p&&__p();if(u(a)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(v(a)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a;a._writer=this;var b=a._state;if(b==="writable")F(a)===!1&&a._backpressure===!0?ra(this):Z(this),W(this);else if(b==="erroring")Y(this,a._storedError),this._readyPromise["catch"](function(){}),W(this);else if(b==="closed")Z(this),oa(this);else{k(b==="errored","state must be errored");b=a._storedError;Y(this,b);this._readyPromise["catch"](function(){});na(this,b);this._closedPromise["catch"](function(){})}Object.defineProperty&&(Object.defineProperty(this,"closed",{get:this._isClosed.bind(this)}),Object.defineProperty(this,"desiredSize",{get:this._getDesiredSize.bind(this)}),Object.defineProperty(this,"ready",{get:this._isReady.bind(this)}))}var c=a.prototype;c._isClosed=function(){return J(this)===!1?b("MaybeNativePromise").reject(U("closed")):this._closedPromise};c._getDesiredSize=function(){if(J(this)===!1)throw U("desiredSize");if(this._ownerWritableStream===void 0)throw V("desiredSize");return fa(this)};c._isReady=function(){return J(this)===!1?b("MaybeNativePromise").reject(U("ready")):this._readyPromise};c.abort=function(a){if(J(this)===!1)return b("MaybeNativePromise").reject(U("abort"));return this._ownerWritableStream===void 0?b("MaybeNativePromise").reject(V("abort")):da(this,a)};c.close=function(){if(J(this)===!1)return b("MaybeNativePromise").reject(U("close"));var a=this._ownerWritableStream;if(a===void 0)return b("MaybeNativePromise").reject(V("close"));return F(a)===!0?b("MaybeNativePromise").reject(new TypeError("cannot close an already-closing stream")):K(this)};c.releaseLock=function(){if(J(this)===!1)throw U("releaseLock");var a=this._ownerWritableStream;if(a===void 0)return;k(a._writer!==void 0);M(this)};c.write=function(a){if(J(this)===!1)return b("MaybeNativePromise").reject(U("write"));return this._ownerWritableStream===void 0?b("MaybeNativePromise").reject(V("write to")):N(this,a)};return a}();function J(a){if(!j(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!1:!0}function da(a,b){a=a._ownerWritableStream;k(a!==void 0);return w(a,b)}function K(a){__p&&__p();var c=a._ownerWritableStream;k(c!==void 0);var d=c._state;if(d==="closed"||d==="errored")return b("MaybeNativePromise").reject(new TypeError("The stream (in "+d+" state) is not in the writable state and cannot be closed"));k(d==="writable"||d==="erroring");k(F(c)===!1);var e=new(b("MaybeNativePromise"))(function(a,b){a={_resolve:a,_reject:b};c._closeRequest=a});c._backpressure===!0&&d==="writable"&&$(a);ha(c._writableStreamController);return e}function a(a){var c=a._ownerWritableStream;k(c!==void 0);var d=c._state;if(F(c)===!0||d==="closed")return b("MaybeNativePromise").resolve();if(d==="errored")return b("MaybeNativePromise").reject(c._storedError);k(d==="writable"||d==="erroring");return K(a)}function ea(a,b){a._closedPromiseState==="pending"?X(a,b):pa(a,b),a._closedPromise["catch"](function(){})}function L(a,b){a._readyPromiseState==="pending"?sa(a,b):ua(a,b),a._readyPromise["catch"](function(){})}function fa(a){a=a._ownerWritableStream;var b=a._state;if(b==="errored"||b==="erroring")return null;return b==="closed"?0:O(a._writableStreamController)}function M(a){var b=a._ownerWritableStream;k(b!==void 0);k(b._writer===a);var c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");L(a,c);ea(a,c);b._writer=void 0;a._ownerWritableStream=void 0}function N(a,c){__p&&__p();var d=a._ownerWritableStream;k(d!==void 0);var e=d._writableStreamController,f=ia(e,c);if(d!==a._ownerWritableStream)return b("MaybeNativePromise").reject(V("write to"));a=d._state;if(a==="errored")return b("MaybeNativePromise").reject(d._storedError);if(F(d)===!0||a==="closed")return b("MaybeNativePromise").reject(new TypeError("The stream is closing or closed and cannot be written to"));if(a==="erroring")return b("MaybeNativePromise").reject(d._storedError);k(a==="writable");a=x(d);ja(e,c,f);return a}var ga=function(){__p&&__p();function a(a,b,c,d){__p&&__p();if(u(a)===!1)throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(a._writableStreamController!==void 0)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=a;this._underlyingSink=b;this._queue=void 0;this._queueTotalSize=void 0;p(this);this._started=!1;b=i(c,d);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;c=R(this);I(a,c)}var c=a.prototype;c.error=function(a){if(ka(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var b=this._controlledWritableStream._state;if(b!=="writable")return;S(this,a)};c[r]=function(a){return h(this._underlyingSink,"abort",[a])};c[s]=function(){p(this)};c[q]=function(){var a=this,c=g(this._underlyingSink,"start",[this]),d=this._controlledWritableStream;b("MaybeNativePromise").resolve(c).then(function(){k(d._state==="writable"||d._state==="erroring"),a._started=!0,P(a)},function(b){k(d._state==="writable"||d._state==="erroring"),a._started=!0,y(d,b)})["catch"](l)};return a}();function ha(a){n(a,"close",0),P(a)}function ia(a,b){var c=a._strategySize;if(c===void 0)return 1;try{return c(b)}catch(b){Q(a,b);return 1}}function O(a){return a._strategyHWM-a._queueTotalSize}function ja(a,b,c){__p&&__p();b={chunk:b};try{n(a,b,c)}catch(b){Q(a,b);return}b=a._controlledWritableStream;if(F(b)===!1&&b._state==="writable"){c=R(a);I(b,c)}P(a)}function ka(a){if(!j(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_underlyingSink")?!1:!0}function P(a){__p&&__p();var b=a._controlledWritableStream;if(a._started===!1)return;if(b._inFlightWriteRequest!==void 0)return;var c=b._state;if(c==="closed"||c==="errored")return;if(c==="erroring"){A(b);return}if(a._queue.length===0)return;c=o(a);c==="close"?la(a):ma(a,c.chunk)}function Q(a,b){a._controlledWritableStream._state==="writable"&&S(a,b)}function la(a){var b=a._controlledWritableStream;aa(b);m(a);k(a._queue.length===0,"queue must be empty once the final write record is dequeued");a=h(a._underlyingSink,"close",[]);a.then(function(){D(b)},function(a){E(b,a)})["catch"](l)}function ma(a,b){__p&&__p();var c=a._controlledWritableStream;ba(c);b=h(a._underlyingSink,"write",[b,a]);b.then(function(){B(c);var b=c._state;k(b==="writable"||b==="erroring");m(a);if(F(c)===!1&&b==="writable"){b=R(a);I(c,b)}P(a)},function(a){C(c,a)})["catch"](l)}function R(a){a=O(a);return a<=0}function S(a,b){a=a._controlledWritableStream;k(a._state==="writable");z(a,b)}function T(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function U(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function V(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function W(a){a._closedPromise=new(b("MaybeNativePromise"))(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function na(a,c){a._closedPromise=b("MaybeNativePromise").reject(c),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function oa(a){a._closedPromise=b("MaybeNativePromise").resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function X(a,b){k(a._closedPromise_resolve!==void 0,"writer._closedPromise_resolve !== undefined"),k(a._closedPromise_reject!==void 0,"writer._closedPromise_reject !== undefined"),k(a._closedPromiseState==="pending","writer._closedPromiseState is pending"),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function pa(a,c){k(a._closedPromise_resolve===void 0,"writer._closedPromise_resolve === undefined"),k(a._closedPromise_reject===void 0,"writer._closedPromise_reject === undefined"),k(a._closedPromiseState!=="pending","writer._closedPromiseState is not pending"),a._closedPromise=b("MaybeNativePromise").reject(c),a._closedPromiseState="rejected"}function qa(a){k(a._closedPromise_resolve!==void 0,"writer._closedPromise_resolve !== undefined"),k(a._closedPromise_reject!==void 0,"writer._closedPromise_reject !== undefined"),k(a._closedPromiseState==="pending","writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function ra(a){a._readyPromise=new(b("MaybeNativePromise"))(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function Y(a,c){a._readyPromise=b("MaybeNativePromise").reject(c),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function Z(a){a._readyPromise=b("MaybeNativePromise").resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function sa(a,b){k(a._readyPromise_resolve!==void 0,"writer._readyPromise_resolve !== undefined"),k(a._readyPromise_reject!==void 0,"writer._readyPromise_reject !== undefined"),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function ta(a){k(a._readyPromise_resolve===void 0,"writer._readyPromise_resolve === undefined"),k(a._readyPromise_reject===void 0,"writer._readyPromise_reject === undefined"),a._readyPromise=new(b("MaybeNativePromise"))(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function ua(a,c){k(a._readyPromise_resolve===void 0,"writer._readyPromise_resolve === undefined"),k(a._readyPromise_reject===void 0,"writer._readyPromise_reject === undefined"),a._readyPromise=b("MaybeNativePromise").reject(c),a._readyPromiseState="rejected"}function $(a){k(a._readyPromise_resolve!==void 0,"writer._readyPromise_resolve !== undefined"),k(a._readyPromise_reject!==void 0,"writer._readyPromise_reject !== undefined"),a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}}),null);
/**
 * License: https://www.facebook.com/legal/license/WmeYRuHLl2U/
 */
__d("ReadableStreamPolyfill",["stream-helpers","stream-utils","stream-queue-with-sizes","WritableStreamPolyfill","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("stream-helpers")).ArrayBufferCopy,h=c.CreateIterResultObject,i=c.IsFiniteNonNegativeNumber,j=c.InvokeOrNoop,k=c.PromiseInvokeOrNoop,l=c.TransferArrayBuffer,m=c.ValidateAndNormalizeQueuingStrategy,n=c.ValidateAndNormalizeHighWaterMark,o=c.createArrayFromList,p=c.createDataProperty,q=c.typeIsObject,r=c.assert,s=b("stream-utils").rethrowAssertionErrorRejection,t=b("stream-queue-with-sizes").DequeueValue,u=b("stream-queue-with-sizes").EnqueueValueWithSize,v=b("stream-queue-with-sizes").ResetQueue,aa=(d=b("WritableStreamPolyfill")).AcquireWritableStreamDefaultWriter,ba=d.IsWritableStream,ca=d.IsWritableStreamLocked,da=d.WritableStreamAbort,ea=d.WritableStreamDefaultWriterCloseWithErrorPropagation,fa=d.WritableStreamDefaultWriterRelease,ga=d.WritableStreamDefaultWriterWrite,w=d.WritableStreamCloseQueuedOrInFlight,x="[[CancelSteps]]",y="[[PullSteps]]",z=function(){__p&&__p();function a(a,b){__p&&__p();a===void 0&&(a={});b=b===void 0?{}:b;var c=b.size;b=b.highWaterMark;this._state="readable";this._reader=void 0;this._storedError=void 0;this._disturbed=!1;this._readableStreamController=void 0;var d=a.type,e=String(d);if(e==="bytes")b===void 0&&(b=0),this._readableStreamController=new Ca(this,a,b);else if(d===void 0)b===void 0&&(b=1),this._readableStreamController=new ya(this,a,c,b);else throw new RangeError("Invalid type is specified");Object.defineProperty&&Object.defineProperty(this,"locked",{get:this._isLocked.bind(this)})}var c=a.prototype;c._isLocked=function(){if(B(this)===!1)throw V("locked");return C(this)};c.cancel=function(a){if(B(this)===!1)return b("MaybeNativePromise").reject(V("cancel"));return C(this)===!0?b("MaybeNativePromise").reject(new TypeError("Cannot cancel a stream that already has a reader")):D(this,a)};c.getReader=function(a){__p&&__p();a=a===void 0?{}:a;a=a.mode;if(B(this)===!1)throw V("getReader");if(a===void 0)return A(this);a=String(a);if(a==="byob")return ha(this);throw new RangeError("Invalid mode is specified")};c.pipeThrough=function(a,b){var c=a.writable;a=a.readable;if(c===void 0||a===void 0)throw new TypeError("readable and writable arguments must be defined");c=this.pipeTo(c,b);db(c);return a};c.pipeTo=function(a,c){__p&&__p();var d=this;c=c===void 0?{}:c;var e=c.preventClose,f=c.preventAbort,g=c.preventCancel;if(B(this)===!1)return b("MaybeNativePromise").reject(V("pipeTo"));if(ba(a)===!1)return b("MaybeNativePromise").reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));e=Boolean(e);f=Boolean(f);g=Boolean(g);if(C(this)===!0)return b("MaybeNativePromise").reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(ca(a)===!0)return b("MaybeNativePromise").reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var h=A(this),i=aa(a),j=!1,k=b("MaybeNativePromise").resolve();return new(b("MaybeNativePromise"))(function(c,l){__p&&__p();function m(){k=b("MaybeNativePromise").resolve();return j===!0?b("MaybeNativePromise").resolve():i._readyPromise.then(function(){return xa(h).then(function(a){var b=a.value;a=a.done;if(a===!0)return;k=ga(i,b)["catch"](function(){})})}).then(m)}p(d,h._closedPromise,function(b){f===!1?r(function(){return da(a,b)},!0,b):t(!0,b)});p(a,i._closedPromise,function(a){g===!1?r(function(){return D(d,a)},!0,a):t(!0,a)});q(d,h._closedPromise,function(){e===!1?r(function(){return ea(i)}):t()});if(w(a)===!0||a._state==="closed"){var n=new TypeError("the destination writable stream closed before all data could be piped to it");g===!1?r(function(){return D(d,n)},!0,n):t(!0,n)}m()["catch"](function(a){k=b("MaybeNativePromise").resolve(),s(a)});function o(){var a=k;return k.then(function(){return a!==k?o():void 0})}function p(a,b,c){a._state==="errored"?c(a._storedError):b["catch"](c)["catch"](s)}function q(a,b,c){a._state==="closed"?c():b.then(c)["catch"](s)}function r(b,c,d){if(j===!0)return;j=!0;a._state==="writable"&&w(a)===!1?o().then(e):e();function e(){b().then(function(){return u(c,d)},function(a){return u(!0,a)})["catch"](s)}}function t(b,c){if(j===!0)return;j=!0;a._state==="writable"&&w(a)===!1?o().then(function(){return u(b,c)})["catch"](s):u(b,c)}function u(a,b){fa(i),va(h),a?l(b):c(void 0)}})};c.tee=function(){if(B(this)===!1)throw V("tee");var a=ia(this,!1);return o(a)};return a}();e.exports={ReadableStream:z,IsReadableStreamDisturbed:a,ReadableStreamDefaultControllerClose:N,ReadableStreamDefaultControllerEnqueue:O,ReadableStreamDefaultControllerError:P,ReadableStreamDefaultControllerGetDesiredSize:Aa};function ha(a){return new sa(a)}function A(a){return new ra(a)}function B(a){if(!q(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!1:!0}function a(a){r(B(a)===!0,"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed}function C(a){r(B(a)===!0,"IsReadableStreamLocked should only be used on known readable streams");return a._reader===void 0?!1:!0}function ia(a,c){__p&&__p();r(B(a)===!0);r(typeof c==="boolean");var d=A(a),e={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};e.promise=new(b("MaybeNativePromise"))(function(a){e._resolve=a});var f=ja();f._reader=d;f._teeState=e;f._cloneForBranch2=c;c=ka();c._stream=a;c._teeState=e;var g=la();g._stream=a;g._teeState=e;a=Object.create(Object.prototype);p(a,"pull",f);p(a,"cancel",c);c=new z(a);a=Object.create(Object.prototype);p(a,"pull",f);p(a,"cancel",g);g=new z(a);f._branch1=c._readableStreamController;f._branch2=g._readableStreamController;d._closedPromise["catch"](function(a){if(e.closedOrErrored===!0)return;P(f._branch1,a);P(f._branch2,a);e.closedOrErrored=!0});return[c,g]}function ja(){__p&&__p();function a(){__p&&__p();var b=a._reader,c=a._branch1,d=a._branch2,e=a._teeState;return xa(b).then(function(a){__p&&__p();r(q(a));var b=a.value;a=a.done;r(typeof a==="boolean");a===!0&&e.closedOrErrored===!1&&(e.canceled1===!1&&N(c),e.canceled2===!1&&N(d),e.closedOrErrored=!0);if(e.closedOrErrored===!0)return;a=b;b=b;e.canceled1===!1&&O(c,a);e.canceled2===!1&&O(d,b)})}return a}function ka(){__p&&__p();function a(b){var c=a._stream,d=a._teeState;d.canceled1=!0;d.reason1=b;if(d.canceled2===!0){b=o([d.reason1,d.reason2]);c=D(c,b);d._resolve(c)}return d.promise}return a}function la(){__p&&__p();function a(b){var c=a._stream,d=a._teeState;d.canceled2=!0;d.reason2=b;if(d.canceled1===!0){b=o([d.reason1,d.reason2]);c=D(c,b);d._resolve(c)}return d.promise}return a}function ma(a){r(J(a._reader)===!0);r(a._state==="readable"||a._state==="closed");var c=new(b("MaybeNativePromise"))(function(b,c){b={_resolve:b,_reject:c};a._reader._readIntoRequests.push(b)});return c}function na(a){r(K(a._reader)===!0);r(a._state==="readable");var c=new(b("MaybeNativePromise"))(function(b,c){b={_resolve:b,_reject:c};a._reader._readRequests.push(b)});return c}function D(a,c){a._disturbed=!0;if(a._state==="closed")return b("MaybeNativePromise").resolve(void 0);if(a._state==="errored")return b("MaybeNativePromise").reject(a._storedError);E(a);a=a._readableStreamController[x](c);return a.then(function(){return void 0})}function E(a){__p&&__p();r(a._state==="readable");a._state="closed";a=a._reader;if(a===void 0)return void 0;if(K(a)===!0){for(var b=a._readRequests,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=e._resolve;e(h(void 0,!0))}a._readRequests=[]}bb(a);return void 0}function oa(a,b){__p&&__p();r(B(a)===!0,"stream must be ReadableStream");r(a._state==="readable","state must be readable");a._state="errored";a._storedError=b;a=a._reader;if(a===void 0)return void 0;if(K(a)===!0){for(var c=a._readRequests,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f._reject(b)}a._readRequests=[]}else{r(J(a),"reader must be ReadableStreamBYOBReader");for(var f=a._readIntoRequests,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}c=c;c._reject(b)}a._readIntoRequests=[]}$a(a,b);a._closedPromise["catch"](function(){})}function pa(a,b,c){a=a._reader;r(a._readIntoRequests.length>0);a=a._readIntoRequests.shift();a._resolve(h(b,c))}function F(a,b,c){a=a._reader;r(a._readRequests.length>0);a=a._readRequests.shift();a._resolve(h(b,c))}function qa(a){return a._reader._readIntoRequests.length}function G(a){return a._reader._readRequests.length}function H(a){a=a._reader;if(a===void 0)return!1;return J(a)===!1?!1:!0}function I(a){a=a._reader;if(a===void 0)return!1;return K(a)===!1?!1:!0}var ra=function(){__p&&__p();function a(a){if(B(a)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(C(a)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");ta(this,a);this._readRequests=[];Object.defineProperty&&Object.defineProperty(this,"closed",{get:this._isClosed.bind(this)})}var c=a.prototype;c._isClosed=function(){return K(this)===!1?b("MaybeNativePromise").reject(X("closed")):this._closedPromise};c.cancel=function(a){if(K(this)===!1)return b("MaybeNativePromise").reject(X("cancel"));return this._ownerReadableStream===void 0?b("MaybeNativePromise").reject(W("cancel")):ua(this,a)};c.read=function(){if(K(this)===!1)return b("MaybeNativePromise").reject(X("read"));return this._ownerReadableStream===void 0?b("MaybeNativePromise").reject(W("read from")):xa(this)};c.releaseLock=function(){if(K(this)===!1)throw X("releaseLock");if(this._ownerReadableStream===void 0)return;if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");va(this)};return a}(),sa=function(){__p&&__p();function a(a){if(!B(a))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(R(a._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(C(a))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ta(this,a);this._readIntoRequests=[];Object.defineProperty&&Object.defineProperty(this,"closed",{get:this._isClosed.bind(this)})}var c=a.prototype;c._isClosed=function(){return!J(this)?b("MaybeNativePromise").reject(Y("closed")):this._closedPromise};c.cancel=function(a){if(!J(this))return b("MaybeNativePromise").reject(Y("cancel"));return this._ownerReadableStream===void 0?b("MaybeNativePromise").reject(W("cancel")):ua(this,a)};c.read=function(a){if(!J(this))return b("MaybeNativePromise").reject(Y("read"));if(this._ownerReadableStream===void 0)return b("MaybeNativePromise").reject(W("read from"));if(!ArrayBuffer.isView(a))return b("MaybeNativePromise").reject(new TypeError("view must be an array buffer view"));return a.byteLength===0?b("MaybeNativePromise").reject(new TypeError("view must have non-zero byteLength")):wa(this,a)};c.releaseLock=function(){if(!J(this))throw Y("releaseLock");if(this._ownerReadableStream===void 0)return;if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");va(this)};return a}();function J(a){if(!q(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!1:!0}function K(a){if(!q(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_readRequests")?!1:!0}function ta(a,b){a._ownerReadableStream=b,b._reader=a,b._state==="readable"?Xa(a):b._state==="closed"?Za(a):(r(b._state==="errored","state must be errored"),Ya(a,b._storedError),a._closedPromise["catch"](function(){}))}function ua(a,b){a=a._ownerReadableStream;r(a!==void 0);return D(a,b)}function va(a){r(a._ownerReadableStream!==void 0),r(a._ownerReadableStream._reader===a),a._ownerReadableStream._state==="readable"?$a(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ab(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._closedPromise["catch"](function(){}),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function wa(a,c){a=a._ownerReadableStream;r(a!==void 0);a._disturbed=!0;return a._state==="errored"?b("MaybeNativePromise").reject(a._storedError):Ma(a._readableStreamController,c)}function xa(a){a=a._ownerReadableStream;r(a!==void 0);a._disturbed=!0;if(a._state==="closed")return b("MaybeNativePromise").resolve(h(void 0,!0));if(a._state==="errored")return b("MaybeNativePromise").reject(a._storedError);r(a._state==="readable");return a._readableStreamController[y]()}var ya=function(){__p&&__p();function a(a,c,d,e){__p&&__p();if(B(a)===!1)throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(a._readableStreamController!==void 0)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=a;this._underlyingSource=c;this._queue=void 0;this._queueTotalSize=void 0;v(this);this._started=!1;this._closeRequested=!1;this._pullAgain=!1;this._pulling=!1;a=m(d,e);this._strategySize=a.size;this._strategyHWM=a.highWaterMark;var f=this;d=j(c,"start",[this]);b("MaybeNativePromise").resolve(d).then(function(){f._started=!0,r(f._pulling===!1),r(f._pullAgain===!1),M(f)},function(a){Q(f,a)})["catch"](s);Object.defineProperty&&Object.defineProperty(this,"desiredSize",{get:this._getDesiredSize.bind(this)})}var c=a.prototype;c._getDesiredSize=function(){if(L(this)===!1)throw Z("desiredSize");return Aa(this)};c.close=function(){if(L(this)===!1)throw Z("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if(a!=="readable")throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");N(this)};c.enqueue=function(a){if(L(this)===!1)throw Z("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if(b!=="readable")throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return O(this,a)};c.error=function(a){if(L(this)===!1)throw Z("error");var b=this._controlledReadableStream;if(b._state!=="readable")throw new TypeError("The stream is "+b._state+" and so cannot be errored");P(this,a)};c[x]=function(a){v(this);return k(this._underlyingSource,"cancel",[a])};c[y]=function(){var a=this._controlledReadableStream;if(this._queue.length>0){var c=t(this);this._closeRequested===!0&&this._queue.length===0?E(a):M(this);return b("MaybeNativePromise").resolve(h(c,!1))}c=na(a);M(this);return c};return a}();function L(a){if(!q(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!1:!0}function M(a){__p&&__p();var b=za(a);if(b===!1)return void 0;if(a._pulling===!0){a._pullAgain=!0;return void 0}r(a._pullAgain===!1);a._pulling=!0;b=k(a._underlyingSource,"pull",[a]);b.then(function(){a._pulling=!1;if(a._pullAgain===!0){a._pullAgain=!1;return M(a)}return void 0},function(b){Q(a,b)})["catch"](s);return void 0}function za(a){__p&&__p();var b=a._controlledReadableStream;if(b._state==="closed"||b._state==="errored")return!1;if(a._closeRequested===!0)return!1;if(a._started===!1)return!1;if(C(b)===!0&&G(b)>0)return!0;b=Aa(a);return b>0?!0:!1}function N(a){var b=a._controlledReadableStream;r(a._closeRequested===!1);r(b._state==="readable");a._closeRequested=!0;a._queue.length===0&&E(b)}function O(a,b){__p&&__p();var c=a._controlledReadableStream;r(a._closeRequested===!1);r(c._state==="readable");if(C(c)===!0&&G(c)>0)F(c,b,!1);else{c=1;if(a._strategySize!==void 0){var d=a._strategySize;try{c=d(b)}catch(b){Q(a,b);throw b}}try{u(a,b,c)}catch(b){Q(a,b);throw b}}M(a);return void 0}function P(a,b){var c=a._controlledReadableStream;r(c._state==="readable");v(a);oa(c,b)}function Q(a,b){a._controlledReadableStream._state==="readable"&&P(a,b)}function Aa(a){var b=a._controlledReadableStream;b=b._state;if(b==="errored")return null;return b==="closed"?0:a._strategyHWM-a._queueTotalSize}var Ba=function(){__p&&__p();function a(a,b){this._associatedReadableByteStreamController=a,this._view=b,Object.defineProperty&&Object.defineProperty(this,"view",{get:this._getView.bind(this)})}var b=a.prototype;b._getView=function(){return this._view};b.respond=function(a){if(Da(this)===!1)throw cb("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Va(this._associatedReadableByteStreamController,a)};b.respondWithNewView=function(a){if(Da(this)===!1)throw cb("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");Wa(this._associatedReadableByteStreamController,a)};return a}(),Ca=function(){__p&&__p();function a(a,c,d){__p&&__p();if(B(a)===!1)throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(a._readableStreamController!==void 0)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=a;this._underlyingByteSource=c;this._pullAgain=!1;this._pulling=!1;Ea(this);this._queue=this._queueTotalSize=void 0;v(this);this._closeRequested=!1;this._started=!1;this._strategyHWM=n(d);d=c.autoAllocateChunkSize;if(d!==void 0&&(Number.isInteger(d)===!1||d<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=d;this._pendingPullIntos=[];var e=this;d=j(c,"start",[this]);b("MaybeNativePromise").resolve(d).then(function(){e._started=!0,r(e._pulling===!1),r(e._pullAgain===!1),S(e)},function(b){a._state==="readable"&&U(e,b)})["catch"](s);Object.defineProperty&&(Object.defineProperty(this,"byobRequest",{get:this._getByobRequest.bind(this)}),Object.defineProperty(this,"desiredSize",{get:this._getByobRequest.bind(this)}))}var c=a.prototype;c._getByobRequest=function(){if(R(this)===!1)throw $("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var a=this._pendingPullIntos[0];a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Ba(this,a)}return this._byobRequest};c._getDesiredSize=function(){if(R(this)===!1)throw $("desiredSize");return Ua(this)};c.close=function(){if(R(this)===!1)throw $("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if(a!=="readable")throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");Sa(this)};c.enqueue=function(a){__p&&__p();if(R(this)===!1)throw $("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if(b!=="readable")throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");Ta(this,a)};c.error=function(a){if(R(this)===!1)throw $("error");var b=this._controlledReadableStream;if(b._state!=="readable")throw new TypeError("The stream is "+b._state+" and so cannot be errored");U(this,a)};c[x]=function(a){if(this._pendingPullIntos.length>0){var b=this._pendingPullIntos[0];b.bytesFilled=0}v(this);return k(this._underlyingByteSource,"cancel",[a])};c[y]=function(){__p&&__p();var a=this._controlledReadableStream;r(I(a)===!0);if(this._queueTotalSize>0){r(G(a)===0);var c=this._queue.shift();this._queueTotalSize-=c.byteLength;Ja(this);try{c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}catch(a){return b("MaybeNativePromise").reject(a)}return b("MaybeNativePromise").resolve(h(c,!1))}c=this._autoAllocateChunkSize;if(c!==void 0){var d;try{d=new ArrayBuffer(c)}catch(a){return b("MaybeNativePromise").reject(a)}d={buffer:d,byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}c=na(a);S(this);return c};return a}();function R(a){if(!q(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!1:!0}function Da(a){if(!q(a))return!1;return!Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!1:!0}function S(a){__p&&__p();var b=Ra(a);if(b===!1)return void 0;if(a._pulling===!0){a._pullAgain=!0;return void 0}r(a._pullAgain===!1);a._pulling=!0;b=k(a._underlyingByteSource,"pull",[a]);b.then(function(){a._pulling=!1,a._pullAgain===!0&&(a._pullAgain=!1,S(a))},function(b){a._controlledReadableStream._state==="readable"&&U(a,b)})["catch"](s);return void 0}function Ea(a){Ka(a),a._pendingPullIntos=[]}function Fa(a,b){r(a._state!=="errored","state must not be errored");var c=!1;a._state==="closed"&&(r(b.bytesFilled===0),c=!0);var d=Ga(b);b.readerType==="default"?F(a,d,c):(r(b.readerType==="byob"),pa(a,d,c))}function Ga(a){var b=a.bytesFilled,c=a.elementSize;r(b<=a.byteLength);r(b%c===0);return new a.ctor(a.buffer,a.byteOffset,b/c)}function T(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function Ha(a,b){__p&&__p();var c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e;f=f-f%c;c=e;e=!1;f>d&&(c=f-b.bytesFilled,e=!0);d=a._queue;while(c>0){f=d[0];var h=Math.min(c,f.byteLength),i=b.byteOffset+b.bytesFilled;g(b.buffer,i,f.buffer,f.byteOffset,h);f.byteLength===h?d.shift():(f.byteOffset+=h,f.byteLength-=h);a._queueTotalSize-=h;Ia(a,h,b);c-=h}e===!1&&(r(a._queueTotalSize===0,"queue must be empty"),r(b.bytesFilled>0),r(b.bytesFilled<b.elementSize));return e}function Ia(a,b,c){r(a._pendingPullIntos.length===0||a._pendingPullIntos[0]===c),Ka(a),c.bytesFilled+=b}function Ja(a){r(a._controlledReadableStream._state==="readable"),a._queueTotalSize===0&&a._closeRequested===!0?E(a._controlledReadableStream):S(a)}function Ka(a){if(a._byobRequest===void 0)return;a._byobRequest._associatedReadableByteStreamController=void 0;a._byobRequest._view=void 0;a._byobRequest=void 0}function La(a){r(a._closeRequested===!1);while(a._pendingPullIntos.length>0){if(a._queueTotalSize===0)return;var b=a._pendingPullIntos[0];Ha(a,b)===!0&&(Qa(a),Fa(a._controlledReadableStream,b))}}function Ma(a,c){__p&&__p();var d=a._controlledReadableStream,e=1;c.constructor!==DataView&&(e=c.constructor.BYTES_PER_ELEMENT);var f=c.constructor;e={buffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:e,ctor:f,readerType:"byob"};if(a._pendingPullIntos.length>0){e.buffer=l(e.buffer);a._pendingPullIntos.push(e);return ma(d)}if(d._state==="closed"){f=new c.constructor(e.buffer,e.byteOffset,0);return b("MaybeNativePromise").resolve(h(f,!0))}if(a._queueTotalSize>0){if(Ha(a,e)===!0){c=Ga(e);Ja(a);return b("MaybeNativePromise").resolve(h(c,!1))}if(a._closeRequested===!0){f=new TypeError("Insufficient bytes to fill elements in the given buffer");U(a,f);return b("MaybeNativePromise").reject(f)}}e.buffer=l(e.buffer);a._pendingPullIntos.push(e);c=ma(d);S(a);return c}function Na(a,b){b.buffer=l(b.buffer);r(b.bytesFilled===0,"bytesFilled must be 0");b=a._controlledReadableStream;if(H(b)===!0)while(qa(b)>0){var c=Qa(a);Fa(b,c)}}function Oa(a,b,c){__p&&__p();if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");Ia(a,b,c);if(c.bytesFilled<c.elementSize)return;Qa(a);b=c.bytesFilled%c.elementSize;if(b>0){var d=c.byteOffset+c.bytesFilled;d=c.buffer.slice(d-b,d);T(a,d,0,d.byteLength)}c.buffer=l(c.buffer);c.bytesFilled-=b;Fa(a._controlledReadableStream,c);La(a)}function Pa(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if(d._state==="closed"){if(b!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Na(a,c)}else r(d._state==="readable"),Oa(a,b,c)}function Qa(a){var b=a._pendingPullIntos.shift();Ka(a);return b}function Ra(a){__p&&__p();var b=a._controlledReadableStream;if(b._state!=="readable")return!1;if(a._closeRequested===!0)return!1;if(a._started===!1)return!1;if(I(b)===!0&&G(b)>0)return!0;if(H(b)===!0&&qa(b)>0)return!0;return Ua(a)>0?!0:!1}function Sa(a){__p&&__p();var b=a._controlledReadableStream;r(a._closeRequested===!1);r(b._state==="readable");if(a._queueTotalSize>0){a._closeRequested=!0;return}if(a._pendingPullIntos.length>0){var c=a._pendingPullIntos[0];if(c.bytesFilled>0){c=new TypeError("Insufficient bytes to fill elements in the given buffer");U(a,c);throw c}}E(b)}function Ta(a,b){__p&&__p();var c=a._controlledReadableStream;r(a._closeRequested===!1);r(c._state==="readable");var d=b.buffer,e=b.byteOffset;b=b.byteLength;d=l(d);if(I(c)===!0)if(G(c)===0)T(a,d,e,b);else{r(a._queue.length===0);var f=new Uint8Array(d,e,b);F(c,f,!1)}else H(c)===!0?(T(a,d,e,b),La(a)):(r(C(c)===!1,"stream must not be locked"),T(a,d,e,b))}function U(a,b){var c=a._controlledReadableStream;r(c._state==="readable");Ea(a);v(a);oa(c,b)}function Ua(a){var b=a._controlledReadableStream;b=b._state;if(b==="errored")return null;return b==="closed"?0:a._strategyHWM-a._queueTotalSize}function Va(a,b){b=Number(b);if(i(b)===!1)throw new RangeError("bytesWritten must be a finite");r(a._pendingPullIntos.length>0);Pa(a,b)}function Wa(a,b){r(a._pendingPullIntos.length>0);var c=a._pendingPullIntos[0];if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==b.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=b.buffer;Pa(a,b.byteLength)}function V(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function W(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function X(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function Xa(a){a._closedPromise=new(b("MaybeNativePromise"))(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function Ya(a,c){a._closedPromise=b("MaybeNativePromise").reject(c),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function Za(a){a._closedPromise=b("MaybeNativePromise").resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function $a(a,b){r(a._closedPromise_resolve!==void 0),r(a._closedPromise_reject!==void 0),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function ab(a,c){r(a._closedPromise_resolve===void 0),r(a._closedPromise_reject===void 0),a._closedPromise=b("MaybeNativePromise").reject(c)}function bb(a){r(a._closedPromise_resolve!==void 0),r(a._closedPromise_reject!==void 0),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function Y(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function Z(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function cb(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function $(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function db(a){try{b("MaybeNativePromise").prototype.then.call(a,void 0,function(){})}catch(a){}}}),null);